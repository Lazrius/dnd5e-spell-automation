{"_id":"uflk5hn3i3azyyks","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(4500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.border.circle.inpulse.02.normal\")\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(4500)\r\n.scale(0.3)\r\n.atLocation(casterToken)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.shield.01.outro_explode.blue\")\r\n.fadeIn(500)\r\n.fadeOut(100)\r\n.atLocation(casterToken)\r\n.waitUntilFinished(-500)\r\n.scale(0.4)\r\n.effect()\r\n.file(\"jb2a.shield.01.outro_explode.red\")\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.atLocation(casterToken)\r\n.waitUntilFinished(-500)\r\n.scale(0.4)\r\n.effect()\r\n.file(\"jb2a.shield.01.outro_explode.green\")\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.atLocation(casterToken)\r\n.waitUntilFinished(-500)\r\n.scale(0.4)\r\n.effect()\r\n.file(\"jb2a.shield.01.outro_explode.yellow\")\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.atLocation(casterToken)\r\n.scale(0.4)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Absorb Elements","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"9iq4xl58lhd90kpg","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nconst target = Array.from(game.user.targets)[0];\r\n\r\nconst sequence = new Sequence();\r\nsequence\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.conjuration\")\r\n\t.atLocation(casterToken)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.opacity(0.3)\r\n\t.filter(\"Glow\", {color: 0x89F423})\r\n\t.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100});\r\n\r\nsequence\r\n\t.effect()\r\n\t.file(\"jb2a.liquid.splash_side.green\")\r\n\t.atLocation(casterToken)\r\n\t.rotateTowards(target)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5);\r\n\r\nsequence\r\n\t.effect()\r\n\t.file(\"jb2a.bullet.03.green\")\r\n\t.atLocation(casterToken)\r\n\t.stretchTo(target)\r\n\t.playIf(true) // Comment this line out if not using MIDI\r\n\t.waitUntilFinished(-500);\r\n\r\nsequence\r\n\t.effect()\r\n\t.file(\"jb2a.liquid.splash.bright_green\")\r\n\t.atLocation(target)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scaleToObject(1.5);\r\n\r\nawait sequence.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Acid Splash","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"ukyyali4rf8fh099","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.explosion.02.yellow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.randomRotation()\r\n.effect()\r\n.file(\"jb2a.divine_smite.caster.yellowwhite\")\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.atLocation(casterToken)\r\n.randomRotation()\r\n.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Action Surge","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"2tzzpgb0pj5rlw1q","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.markers.bubble.outro.rainbow\")\r\n.scaleToObject(2)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(args[0].tokenId)\r\n.duration(2800)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xadd8e6 })\r\n.opacity(0.8)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Alter Self","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"ey943usu7io9ivlu","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0x014421 })\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.green\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.belowTokens()\r\n.scaleToObject(1.5)\r\n.animateProperty(\"spriteContainer\", \"rotation\", { from: 0, to: 360, duration: 5000, delay: 0 })\r\n.effect()\r\n.file(\"jb2a.shatter.green\")\r\n.delay(200)\r\n.fadeIn(100)\r\n.fadeOut(500)\r\n.duration(1200)\r\n.scale(0.4)\r\n.opacity(0.4)\r\n.atLocation(targetId)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Animal Friendship","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"sltpaus10rklbdf8","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.ice_spikes.radial.burst.white\")\r\n.scale(0.45)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(1500) \r\n.belowTokens()\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Armor Of Agathys","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"0q7lsac6hj09ib4u","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet targetID = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\r\n\tnew Sequence() \r\n\t\t.effect()\r\n\t\t.file(\"jb2a.impact.004.dark_red\")\r\n\t\t.atLocation(targetID)\r\n\t\t.fadeIn(500)\r\n\t\t.delay(2000)\r\n\t\t.effect()\r\n\t\t.delay(2000)\r\n\t\t.file(\"jb2a.energy_strands.overlay.dark_red.01\")\r\n\t\t.fadeIn(100)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.4, 0.45)\r\n\t\t.attachTo(targetID)\r\n\t\t.randomRotation()\r\n\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t\t.persist()\r\n\t\t.name(`bane-${targetID.id}`)\r\n\t\t.play();\r\n\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `bane-${targetID.id}`, object: targetID });\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Bane Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"wwx4ilkbhv862czm","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xf02d2b }) \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Bane Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"6hmw3zpzhf6yuisz","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.01.intro.green\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.waitUntilFinished(-500)\r\n\t\t.opacity(0.3)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.fireflies.few.02.green\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`barkskin-1-${tokenD.id}`)\r\n\t\t.fadeIn(2000)\r\n\t\t.fadeOut(2000)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.01.loop.green\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`barkskin-2-${tokenD.id}`)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(300)\r\n\t\t.extraEndDuration(800)\r\n\t\t.opacity(0.3)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `barkskin-1-${tokenD.id}`, object: tokenD });\r\n\tSequencer.EffectManager.endEffects({ name: `barkskin-2-${tokenD.id}`, object: tokenD });\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.01.outro_explode.green\")\r\n\t\t.scale(0.5)\r\n\t\t.opacity(0.3)\r\n\t\t.attachTo(tokenD)\r\n\t\t.play();\r\n}\r\n\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Barkskin Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"4ge4ekpagv6pgdfi","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0x98fb98 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(500)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Barkskin Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"2mgy4xkwbxp0lx2h","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.divination\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0x76d669 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.particles.outward.greenyellow.01.02\")\r\n.scale(0.45)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(1500) \r\n.belowTokens()\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Beast Bond","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"09r3ooyqu26h5n97","command":"// This needs to be placed in dae's macro.execute with the @token and @target parameters in order to work correctly.\r\n\r\nconst casterToken = canvas.scene.tokens.get(args[1]);\r\nconst targetActor = canvas.scene.tokens.get(args[2]);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.markers.runes.green02.02\")\r\n\t\t.attachTo(casterToken)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`beast-bond-${casterToken.id}`)\r\n\t\t.fadeIn(1000)\r\n\t\t.fadeOut(1000)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.markers.runes.green02.02\")\r\n\t\t.attachTo(targetActor)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`beast-bond-${targetActor.id}`)\r\n\t\t.fadeIn(1000)\r\n\t\t.fadeOut(1000)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `beast-bond-${casterToken.id}`, object: casterToken.id });\r\n\tSequencer.EffectManager.endEffects({ name: `beast-bond-${targetActor.id}`, object: targetActor.id });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Beast Bond Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"7maptbpom2fovy8o","command":"// This needs to be placed in dae's macro.execute with the @token and @target parameters in order to work correctly.\r\n\r\n\r\n\r\nconst casterToken = canvas.scene.tokens.get(args[1]);\r\nconst targetActor = canvas.scene.tokens.get(args[2]);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.markers.light.intro.green\")\r\n\t\t.atLocation(casterToken)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(500)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.divination\")\r\n\t\t.atLocation(casterToken)\r\n\t\t.duration(4000)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.5)\r\n\t\t.waitUntilFinished(-1000)\r\n\t\t.filter(\"Glow\", { color: 0x014421 })\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shatter.green\")\r\n\t\t.delay(200)\r\n\t\t.fadeIn(100)\r\n\t\t.fadeOut(500)\r\n\t\t.duration(1200)\r\n\t\t.scale(0.4)\r\n\t\t.opacity(0.4)\r\n\t\t.atLocation(casterToken)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.hunters_mark.loop.01.green\")\r\n\t\t.attachTo(casterToken)\r\n\t\t.fadeIn(2000)\r\n\t\t.fadeOut(1000)\r\n\t\t.scale(0.5)\r\n\t\t.opacity(0.5)\r\n\t\t.persist()\r\n\t\t.name(`beast-sense-caster-${casterToken.id}`)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.hunters_mark.loop.01.green\")\r\n\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t\t.fadeIn(1000)\r\n\t\t.fadeOut(1000)\r\n\t\t.scale(0.5)\r\n\t\t.attachTo(targetActor)\r\n\t\t.persist()\r\n\t\t.opacity(0.5)\r\n\t\t.name(`beast-sense-target-${targetActor.id}`)\r\n\t\t.play();\r\n\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `beast-sense-caster-${casterToken.id}`, object: casterToken.id });\r\n\tSequencer.EffectManager.endEffects({ name: `beast-sense-target-${targetActor.id}`, object: targetActor.id });\r\n\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Beast Sense","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"tiplefhdtme2o2la","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nconst sequence = new Sequence();s\r\nsequence\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", {color: 0xD7E5F0})\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100});\r\n\r\nsequence.effect()\r\n.file(\"jb2a.shimmer.01.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(500)\r\n.duration(1900)\r\n.scaleToObject(1.5);\r\nsequence.effect()\r\n.file(\"jb2a.impact.010.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200);\r\nawait sequence.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Blade Ward","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"9qg8bzxyw1kqcmo2","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\nif (args[0] === \"on\") {\r\n\t// If the dynamic active effect started\r\n\tconst sequence = new Sequence();\r\n\tsequence.effect()\r\n\t\t.file(\"jb2a.token_stage.round.blue.01.01\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scaleToObject(1.5)\r\n\t\t.persist()\r\n\t\t.name(`blade-ward-${tokenD.id}`)\r\n\t\t.fadeIn(1000)\r\n\t\t.fadeOut(500)\r\n\t\t.opacity(0.8)\r\n\t\t.playbackRate(0.1);\r\n\tawait sequence.play();\r\n}\r\n\r\nif (args[0] === \"off\") {\r\n\t// If the dynamic active effect ended\r\n\tawait Sequencer.EffectManager.endEffects({name: `blade-ward-${tokenD.id}`, object: tokenD});\r\n}\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Blade Ward Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"mnj4ylb31le1o517","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\nlet targetID = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.extras.tmfx.outpulse.circle.01.slow\")\r\n\t\t.atLocation(targetID)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(500)\r\n\t\t.filter(\"Glow\", { color: 0xfefebe })\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.bless.200px.intro.yellow\")\r\n\t\t.atLocation(targetID)\r\n\t\t.fadeIn(100)\r\n\t\t.belowTokens()\r\n\t\t.scaleToObject(2)\r\n\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t\t.waitUntilFinished(-500)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.bless.200px.loop.yellow\")\r\n\t\t.fadeOut(500)\r\n\t\t.scaleToObject(2)\r\n\t\t.attachTo(targetID)\r\n\t\t.persist()\r\n\t\t.belowTokens()\r\n\t\t.name(`bless-${targetID.id}`)\r\n\t\t.play();\r\n\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `bless-${targetID.id}`, object: targetID });\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Bless Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"tuqcgqpttl9w9hf0","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xfefebe })\r\n.opacity(0.5)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Bless Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"aj8rk2e5cr86f5cc","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Blink","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"m9a5j2eqwzs2j6m0","command":"// This needs to be placed in dae's macro.execute with the @token and @target parameters in order to work correctly.\r\n\r\nconst casterToken = canvas.scene.tokens.get(args[1]);\r\nconst targetActor = canvas.scene.tokens.get(args[2]);\r\n\r\nif (args[0] === \"on\") {\r\n\t// If the dynamic active effect started\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.static_electricity.02.blue\")\r\n\t\t.scale(0.4)\r\n\t\t.atLocation(casterToken)\r\n\t\t.duration(4000)\r\n\t\t.fadeIn(100)\r\n\t\t.fadeOut(100)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n\t\t.atLocation(casterToken)\r\n\t\t.duration(2000)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.5)\r\n\t\t.waitUntilFinished(-1200)\r\n\t\t.filter(\"Glow\", { color: 0xadd8e6 })\r\n\t\t.opacity(0.8)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.rapier.melee.01.blue.1\")\r\n\t\t.atLocation(casterToken)\r\n\t\t.stretchTo(targetActor)\r\n\t//.missed(args[0].hitTargets.length === 0)\r\n\t\t.waitUntilFinished(-1000)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(1500)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.static_electricity.01.blue\")\r\n\t\t.scale(0.4)\r\n\t\t.attachTo(targetActor)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(1000)\r\n\t\t.name(`booming-blade-${targetActor.id}`)\r\n\t\t.persist()\r\n\t\t.play();\r\n\r\n}\r\nif (args[0] === \"off\") {\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `booming-blade-${targetActor.id}`, object: targetActor.id });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Booming Blade Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"psjekrieaesenxdj","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffa500 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.impact.yellow.5\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)    \r\n.effect()\r\n.file(\"jb2a.burning_hands.02.orange\")\r\n.atLocation(template.position, {cacheLocation: true})\r\n.stretchTo(template, {cacheLocation: true})\r\n.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Burning Hands","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"8cpdomarrwvqik6r","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0x98fb98 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.hunters_mark.pulse.02.green\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xfefebe })\r\n.opacity(0.5)\r\n.effect()\r\n.file(\"jb2a.detect_magic.circle.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(2500)\r\n.scale(0.5)\r\n.randomRotation() \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Catnap","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"zjnn3d7tq76nx9o7","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nlet myStringArray = Array.from(game.user.targets)[0];\r\nlet arrayLength = game.user.targets.size;\r\n\r\nfor (let i = 0; i < arrayLength; i++) {\r\n\tlet targetId = Array.from(game.user.targets)[i];\r\n\tnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.necromancy\")\r\n\t.atLocation(casterToken)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.waitUntilFinished(-1000)\r\n\t.filter(\"Glow\", { color: 0xd7e5f0 })\r\n\t.effect()\r\n\t.file(\"jb2a.impact.004.blue\")\r\n\t.atLocation(targetId)\r\n\t.fadeIn(500)\r\n\t.randomRotation()\r\n\t.effect()\r\n\t.file(\"jb2a.toll_the_dead.blue.shockwave\")\r\n\t.atLocation(targetId)\r\n\t.fadeIn(500)\r\n\t.scale(0.8, 1)\r\n\t.randomRotation()\r\n\t.effect()\r\n\t.file(\"jb2a.fireflies.many.02.blue\")\r\n\t.atLocation(targetId)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.4,0.5)\r\n\t.randomRotation()\r\n\t.effect()\r\n\t.file(\"jb2a.toll_the_dead.blue.skull_smoke\")\r\n\t.fadeIn(100)\r\n\t.fadeOut(100)\r\n\t.scale(0.4, 0.55)\r\n\t.atLocation(targetId)\r\n\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t.play();\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Cause Fear","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"w9z7qq2l0dgjlujr","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nlet myStringArray = Array.from(game.user.targets)[0];\r\nlet arrayLength = game.user.targets.size;\r\n\r\nfor (let i = 0; i < arrayLength; i++) {\r\n\tlet targetId = Array.from(game.user.targets)[i];\r\n\tnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.abjuration\")\r\n\t.atLocation(casterToken)\r\n\t.duration(1000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.waitUntilFinished(-500)\r\n\t.filter(\"Glow\", { color: 0xabcdef })\r\n\t.effect()\r\n\t.file(\"jb2a.impact.004.blue\")\r\n\t.atLocation(targetId)\r\n\t.fadeIn(500)\r\n\t.effect()\r\n\t.file(\"jb2a.energy_strands.complete.blueorange.01\")\r\n\t.fadeIn(1000)\r\n\t.duration(10000)\r\n\t.fadeOut(1000)\r\n\t.scaleToObject(1.5)\r\n\t.atLocation(targetId)\r\n\t.randomRotation()\r\n\t.play();\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Ceremony","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"p2uri0rf4wgiqjsy","command":"\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.5)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.flaming_sphere.rainbow\")\r\n.atLocation(casterToken)\r\n.moveTowards(targetId, {ease: \"easeInCubic\"})\r\n.moveSpeed(500)\r\n.fadeIn(500)\r\n.duration(1200)\r\n.fadeOut(500)\r\n.scale(0.6)\r\n.waitUntilFinished(-500)\r\n.rotateIn(360, 1200)\r\n.effect()\r\n.file(\"jb2a.impact.004.dark_purple\")\r\n.atLocation(targetId)\r\n.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Chaos Bolt","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"bgyrk7ob4c8iqo4p","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xfadadd })\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.pinkyellow.01\")\r\n.delay(200)\r\n.fadeIn(300)\r\n.fadeOut(500)\r\n.duration(3000)\r\n.scale(0.4)\r\n.opacity(0.4)\r\n.atLocation(targetId)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Charm Person","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"hz23m3k2k7gtjnd3","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notifications.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nconst sequence = new Sequence();\r\n\r\nsequence\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.purple.01\")\r\n.delay(200)\r\n.fadeIn(300)\r\n.fadeOut(500)\r\n.duration(3000)\r\n.scale(0.4)\r\n.atLocation(casterToken)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"});\r\n\r\nsequence\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.necromancy\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", {color: 0x800080});\r\nsequence.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.belowTokens()\r\n.waitUntilFinished(-500);\r\nsequence\r\n.effect()\r\n.delay(500)\r\n.file(\"jb2a.impact.007.purple\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.fadeOut(200);\r\nsequence.effect()\r\n.file(\"jb2a.arcane_hand.purple\")\r\n.scale(0.3)\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(1500)\r\n.opacity(0.5);\r\nawait sequence.play();\r\n\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Chill Touch","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"5vzkcvgvt8knywpt","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\n\r\nawait Sequencer.Preloader.preloadForClients(\r\n\t[\"jb2a.ice_spikes.radial.burst.blue\",\r\n\t\t\"jb2a.dagger.melee.02.blue\",\r\n\t\t\"jb2a.side_impact.ice_shard.blue\"\r\n\t], false);\r\n\r\n//This uses MIDI QOL to check for Hits before playing certain parts\r\n\r\nlet target = canvas.tokens.get(args[0].targets[0].id);\r\n//midi checking for hit.\r\nlet targetHit = args[0].hitTargets.length === 1;\r\n\r\nnew Sequence()\r\n\r\n\t.effect()\r\n\t.file(\"jb2a.dagger.melee.02.blue\")\r\n\t.atLocation(casterToken)\r\n\t.stretchTo(target)\r\n\t.filter(\"Glow\", { color: 0x0047AB })\r\n\t.waitUntilFinished(-1500)\r\n\t.missed(args[0].hitTargets.length === 0)\r\n\r\n\t.effect()\r\n\t.file(\"jb2a.ice_spikes.radial.burst.blue\")\r\n\t.atLocation(target)\r\n\t.scaleToObject()\r\n\t.fadeIn(500)\r\n\t.fadeOut(300)\r\n\t.playIf(targetHit)\r\n\r\n\r\n\t.effect()\r\n\t.file(\"jb2a.side_impact.ice_shard.blue\")\r\n\t.atLocation(target)\r\n\t.rotateTowards(target)\r\n\t.stretchTo(casterToken)\r\n\t.rotate(180)\r\n\r\n\t.playIf(targetHit)\r\n\r\n\t.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Cold Dagger","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"bu1n9i16w3fkjjqg","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xc00000 })\r\n.effect()\r\n.file(\"jb2a.impact.004.dark_red\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.enchantment\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(2)\r\n.duration(2000)\r\n.fadeOut(500)\r\n.filter(\"Glow\", { color: 0xc00000 })\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Command","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"y7jdte5sgmg1dmgm","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.outpulse.circle.02.normal\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xadadad })\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(3700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(2)\r\n.waitUntilFinished(-3500)\r\n.filter(\"Glow\", { color: 0xadadad })\r\n.effect()\r\n.file(\"jb2a.impact.003.blue\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.inpulse.circle.02.normal\")\r\n.atLocation(targetId)\r\n.duration(3500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xadadad })\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.enchantment\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(2)\r\n.duration(3500)\r\n.fadeOut(500)\r\n.filter(\"Glow\", { color: 0xadadad })\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Compelled Duel","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"l1l49th6g6lkfptt","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.divination\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xabcdef })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.detect_magic.circle.grey\")\r\n.scale(0.45)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(1000)\r\n.randomRotation() \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Comprehend Languages","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"c8g8un58dimtbrql","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.conjuration\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.blue.01\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.effect()\r\n.file(\"jb2a.explosion.07.bluewhite\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.waitUntilFinished(-500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Conjure Animals","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"duv3s6b0hwnkgkzb","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length - 1];\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nlet myStringArray = Array.from(game.user.targets)[0];\r\nlet arrayLength = game.user.targets.size;\r\nfor (let i = 0; i < arrayLength; i++) {\r\n\tlet targetId = Array.from(game.user.targets)[i];\r\n\tnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.conjuration\")\r\n\t.atLocation(casterToken)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.opacity(0.3)\r\n\t.filter(\"Glow\", { color: 0xcc8899 })\r\n\t.scaleIn(0, 500, { ease: \"easeOutCubic\", delay: 100 })\r\n\t.effect()\r\n\t.file(\"jb2a.moonbeam.01.intro.blue\")\r\n\t.atLocation(casterToken)\r\n\t.fadeIn(100)\r\n\t.fadeOut(200)\r\n\t.duration(1200)\r\n\t.waitUntilFinished(-500)\r\n\t.effect()\r\n\t.file(\"jb2a.dagger.throw.01.white\")\r\n\t.atLocation(casterToken)\r\n\t.stretchTo(targetId)\r\n\t.randomOffset()\r\n\t.repeats(5, 30, 60, 120)\r\n\t.play();\r\n}\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Conjure Barrage","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"rcdrxsod1efnt6td","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-1000)\r\n.filter(\"Glow\", { color: 0xffffbf })\r\n\r\n.effect()\r\n.file(\"jb2a.impact.blue.10\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.pinkyellow.01\")\r\n.delay(200)\r\n.fadeIn(300)\r\n.fadeOut(500)\r\n.duration(2000)\r\n.scale(0.4)\r\n.opacity(0.4)\r\n.atLocation(casterToken)\r\n.scaleIn(0, 500, { ease: \"easeOutCubic\" })\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Counterspell","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"pltyt3n158q7v0e3","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.markers.bubble.outro.blue\")\r\n.scaleToObject(2)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(args[0].tokenId)\r\n.duration(2800)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xadd8e6 })\r\n.opacity(0.8)\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.outpulse.circle.02.normal\")\r\n.atLocation(args[0].tokenId)\r\n.duration(2800)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xadd8e6 })\r\n.opacity(0.8)\r\n.effect()\r\n.file(\"jb2a.liquid.splash.blue\")\r\n.atLocation(args[0].tokenId)\r\n.duration(2800)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.opacity(0.8)\r\n.belowTokens()\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Create Or Destroy Water","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"05tw4s16oqy83vji","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.evocation\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(4)\r\n.duration(1000)\r\n.fadeOut(500)\r\n.effect()\r\n.file(\"jb2a.cure_wounds.400px.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.duration(1500)\r\n.waitUntilFinished(-1000)\r\n.effect()\r\n.file(\"jb2a.impact.003.blue\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.healing_generic.loop.bluewhite\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.belowTokens()\r\n.opacity(0.5)\r\n.effect()\r\n.file(\"jb2a.healing_generic.burst.bluewhite\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.opacity(0.5)       \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Cure Wounds","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"6l5ea1g5r8883gip","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nlet dancingLightCount = 1;\r\nlet currentDancingLightCount = 0;\r\nlet hasPlayedAnimation = false;\r\nlet createDancingLight = undefined;\r\nif (!createDancingLight) {\r\n\tcreateDancingLight = async () => {\r\n\t\tif (typeof dancingLightCount !== \"number\" || dancingLightCount <= 0) return;\r\n\r\n\t\tawait warpgate.spawn(\"Dancing Light\", {}, {\r\n\t\t\tpre: async (location, updates) => {\r\n\t\t\t\t// When the user has clicked where they want it\r\n\r\n\t\t\t\tif (!hasPlayedAnimation) {\r\n\t\t\t\t\thasPlayedAnimation = true;\r\n\t\t\t\t\tconst sequence = new Sequence();\r\n\t\t\t\t\tsequence\r\n\t\t\t\t\t.effect()\r\n\t\t\t\t\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n\t\t\t\t\t.atLocation(casterToken)\r\n\t\t\t\t\t.duration(2000)\r\n\t\t\t\t\t.fadeIn(500)\r\n\t\t\t\t\t.fadeOut(500)\r\n\t\t\t\t\t.scale(0.5)\r\n\t\t\t\t\t.filter(\"Glow\", {color: 0xffffbf})\r\n\t\t\t\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100});\r\n\t\t\t\t\tsequence.effect()\r\n\t\t\t\t\t.file(\"jb2a.moonbeam.01.intro.blue\")\r\n\t\t\t\t\t.atLocation(casterToken)\r\n\t\t\t\t\t.fadeIn(100)\r\n\t\t\t\t\t.fadeOut(200)\r\n\t\t\t\t\t.duration(1200);\r\n\t\t\t\t\tawait sequence.play();\r\n\t\t\t\t}\r\n\t\t\t}, post: async (location, spawnedToken, updates, iteration) => {\r\n\t\t\t\t// When the token has been spawned\r\n\r\n\t\t\t\tnew Sequence()\r\n\t\t\t\t.effect()\r\n\t\t\t\t.file(\"jb2a.toll_the_dead.blue.shockwave\")\r\n\t\t\t\t.atLocation(location)\r\n\t\t\t\t.fadeOut(500)\r\n\t\t\t\t.randomRotation()\r\n\t\t\t\t.scale(0.5)\r\n\t\t\t\t.play();\r\n\r\n\r\n\t\t\t\tif (++currentDancingLightCount < dancingLightCount) {\r\n\t\t\t\t\tawait createDancingLight();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, {\r\n\t\t\tcontrollingActor: casterToken.actor, collision: false,\r\n\t\t});\r\n\t};\r\n}\r\n\r\nnew Dialog({\r\n\ttitle: \"Dancing Lights\", content: `\r\n        <div class=\"form-group\">\r\n            <label>Dancing Light Count: <span id=\"dancing-light-count\">4</span></label>\r\n            <input type=\"range\" id=\"dancing-light-range\" value=\"4\" min=\"1\" max=\"4\" oninput=\"$('#dancing-light-count').html(this.value)\"/>\r\n        </div>\r\n    `, buttons: {\r\n\t\tone: {\r\n\t\t\tlabel: \"Done\", callback: (html) => {\r\n\t\t\t\tdancingLightCount = parseInt(html.find(\"#dancing-light-range\").val());\r\n\t\t\t\tcreateDancingLight();\r\n\t\t\t}\r\n\t\t}\r\n\t}, default: \"one\"\r\n}).render(true);\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Dancing Lights","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"fyewirqw60p7b9wp","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.divination\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0x8b0000 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.detect_magic.circle.purple\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(2500)\r\n.randomRotation() \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Detect Evil","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"ltsyemem41jm98kt","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.divination\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.detect_magic.circle.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(2500)\r\n.randomRotation() \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Detect Magic","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"jgj4wcon3uvptw8k","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.divination\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0x89F423 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.detect_magic.circle.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(2500)\r\n.randomRotation() \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Detect Poison","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"c25qcfookb9dzuig","command":"// requires JB2A, Sequencer, and Warpgate\r\n//Credit to david (aka claudekennilol) for initial Pathfinder version and Tupsi for initial 5e version\r\n\r\nSequencer.Preloader.preloadForClients(\r\n    \"jb2a.magic_signs.circle.02.conjuration.intro.red\",\r\n    \"jb2a.portals.vertical.vortex.red\",\r\n    \"jb2a.magic_signs.circle.02.conjuration.intro.blue\",\r\n    \"jb2a.portals.vertical.vortex.blue\")\r\n\r\nlet tokenD = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!tokenD) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n\r\nconst config = {\r\n    drawIcon: false,\r\n    interval: tokenD.data.width % 2 === 0 ? 1 : -1,\r\n    label: 'Dimension Door',\r\n    size: tokenD.w / canvas.grid.size,\r\n}\r\nif (typeof item !== 'undefined') {\r\n    config.drawIcon = true;\r\n    config.icon = item.img;\r\n    config.label = item.name;\r\n}\r\n\r\nconst position = await warpgate.crosshairs.show(config);\r\n\r\nconst portalScale = tokenD.w / canvas.grid.size * .7;\r\n\r\nconst magicSign = new Sequence().effect()\r\n    .file('jb2a.magic_signs.rune.conjuration.intro.red')\r\n    .atLocation(tokenD)\r\n    .scale(portalScale * .7)\r\n    .opacity(0.5)\r\n    .waitUntilFinished(-600);\r\n\r\nconst introSequence = new Sequence()\r\n\r\nintroSequence.effect()\r\n    .file('jb2a.magic_signs.circle.02.conjuration.intro.red')\r\n    .atLocation(tokenD)\r\n    .offset({ y: (tokenD.height) })\r\n    .scaleToObject(2)\r\n    .fadeIn(200)\r\n    .fadeOut(500)\r\n    .belowTokens()\r\n    .waitUntilFinished(-1000);\r\n\r\nintroSequence.effect()\r\n    .file('jb2a.portals.vertical.vortex.red')\r\n    .atLocation(tokenD)\r\n    .offset({ y: (tokenD.height) })\r\n    .scale(portalScale)\r\n    .duration(1500)\r\n    .fadeIn(200)\r\n    .fadeOut(500);\r\n\r\nintroSequence.animation()\r\n    .on(tokenD)\r\n    .opacity(0);\r\n\r\nintroSequence.effect()\r\n    .from(tokenD)\r\n    .moveTowards({ x: tokenD.center.x, y: tokenD.center.y - tokenD.h })\r\n    .zeroSpriteRotation()\r\n    .fadeOut(500)\r\n    .duration(500);\r\n\r\nintroSequence.wait(250);\r\n\r\nconst outroSequence = new Sequence();\r\n\r\noutroSequence.effect()\r\n    .file('jb2a.magic_signs.circle.02.conjuration.intro.blue')\r\n    .atLocation(position)\r\n    .scaleToObject(2)\r\n    .offset({ y: (tokenD.height) })\r\n    .fadeIn(200)\r\n    .fadeOut(500)\r\n    .belowTokens()\r\n    .waitUntilFinished(-1000);\r\n\r\noutroSequence.effect()\r\n    .file('jb2a.portals.vertical.vortex.blue')\r\n    .atLocation(position)\r\n    .offset({ y: (tokenD.height) })\r\n    .scale(portalScale)\r\n    .duration(1200)\r\n    .fadeOut(500)\r\n    .fadeIn(200);\r\n\r\noutroSequence.effect()\r\n    .from(tokenD)\r\n    .atLocation({ x: position.x, y: position.y - tokenD.h })\r\n    .fadeIn(500)\r\n    .duration(1500)\r\n    .moveTowards(position)\r\n    .zeroSpriteRotation()\r\n    .waitUntilFinished();\r\n\r\noutroSequence.animation()\r\n    .on(tokenD)\r\n    .teleportTo(position, { relativeToCenter: true })\r\n    .opacity(1);\r\n\r\nawait magicSign.play();\r\nawait introSequence.play();\r\nawait outroSequence.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Dimension Door","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"x8iz3qazo9a9tcmf","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.markers.bubble.outro.rainbow\")\r\n.scaleToObject(2)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.illusion\")\r\n.atLocation(args[0].tokenId)\r\n.duration(2800)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xadd8e6 })\r\n.opacity(0.8)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Disguise Self","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"tdzftz4o3fd01anl","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.detect_magic.circle.grey\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(2500)\r\n.randomRotation() \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Dispel Magic","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"sgw1kjtby85zouqr","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n\t.atLocation(casterToken)\r\n\t.duration(1700)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.filter(\"Glow\", { color: 0xffffff })\r\n\t.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n\t.effect()\r\n\t.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n\t.atLocation(casterToken)\r\n\t.fadeIn(100)\r\n\t.fadeOut(200)\r\n\t.duration(1200)\r\n\t.waitUntilFinished(-500)\r\n\t.effect()\r\n\t.file(\"jb2a.detect_magic.circle.grey\")\r\n\t.atLocation(casterToken)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.duration(2500)\r\n\t.randomRotation() \r\n\t.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Dispel Magic","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"5hwzb9ntxdovnydz","command":"// This needs to be placed in dae's macro.execute with the @spellLevel, @target and @token parameters in order to work correctly.\r\n//Get the caster and target token IDs\r\nconst casterToken = canvas.scene.tokens.get(args[3]);\r\nconst targetActor = canvas.scene.tokens.get(args[2]);\r\n\r\n// Set the name and DC of the cantrip to be created on the target\r\nconst spellName = \"Dragon's Breath (Active)\";\r\nconst spellDC = casterToken.actor.data.data.attributes.spelldc;\r\n\r\n// When the effect is toggled on:\r\nif (args[0] === \"on\") {\r\n\t// Create the damage type selection dialogue\r\n\tlet d = new Dialog({\r\n\t\ttitle: \"Dragon's Breath\",\r\n\t\tcontent: `\r\n\t\t<p>Please choose a damage type from the drop-down menu:</p>\r\n\t\t<form>\r\n\t\t\t<div>\r\n\t\t\t\t<select id=\"formDamageType\">\r\n\t\t\t\t\t<option value=\"acid\" selected=\"selected\">Acid</option>\r\n\t\t\t\t\t<option value=\"cold\">Cold</option>\r\n\t\t\t\t\t<option value=\"fire\">Fire</option>\r\n\t\t\t\t\t<option value=\"lightning\">Lightning</option>\r\n\t\t\t\t\t<option value=\"poison\">Poison</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t\t`,\r\n\t\tbuttons: {\r\n\t\t\tone: {\r\n\t\t\t\ticon: '<i class=\"fas fa-check\"></i>',\r\n\t\t\t\tlabel: \"Cast\",\r\n\t\t\t\tcallback: () => triggerEffect($(\"#formDamageType\").val()),\r\n\t\t\t},\r\n\t\t\ttwo: {\r\n\t\t\t\ticon: '<i class=\"fas fa-times\"></i>',\r\n\t\t\t\tlabel: \"Cancel\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tdefault: \"Cast\",\r\n\t});\r\n\td.render(true);\r\n\tconst triggerEffect = async (damageType) => {\r\n\t\t// Grabs spellLevel from args passed in at macro.execute\r\n\t\tconst spellLevel = args[args.length - 1].efData.flags.dae.itemData.data.level;\r\n\t\t// Ensure that if the macro args were not passed in, the spell level is cast at the default\r\n\t\tconst upcastLevel = typeof args[1] === \"number\" ? args[1] : spellLevel;\r\n\t\t// Calculates the number of dice to add\r\n\t\tconst dice = upcastLevel - spellLevel + 3;\r\n\t\t// Create the cantrip on the target actor's sheet\r\n\t\tconst item = await targetActor.actor.createEmbeddedDocuments('Item', [{\r\n\t\t\tname: spellName,\r\n\t\t\ttype: \"spell\",\r\n\t\t\timg: \"icons/creatures/abilities/dragon-fire-breath-orange.webp\",\r\n\t\t\tdata: {\r\n\t\t\t\tdescription: {\r\n\t\t\t\t\tvalue: \"<div class=\\\"rd__b  rd__b--3\\\"><p>You spew magical energy from your mouth. You may use an action to exhale energy of the type chosen by the caster in a 15-foot cone. Each creature in that area must make a Dexterity saving throw against the caster's spell DC, taking [[/r 3d6]] damage of the chosen type on a failed save, or half as much damage on a successful one.</p><div class=\\\"rd__spc-inline-post\\\"></div></div><div class=\\\"rd__b  rd__b--3\\\"><div class=\\\"rd__b  rd__b--3\\\"><span class=\\\"rd__h rd__h--3\\\" data-title-index=\\\"5947\\\"> <span class=\\\"entry-title-inner help-subtle\\\">At Higher Levels.</span></span> <p>When this spell is cast using a spell slot of 3rd level or higher, the damage increases by [[/r 1d6]] for each slot level above 2nd.</p><div class=\\\"rd__spc-inline-post\\\"></div></div><div class=\\\"rd__spc-inline-post\\\"></div></div>\",\r\n\t\t\t\t},\r\n\t\t\t\tactivation: {\r\n\t\t\t\t\ttype: \"action\",\r\n\t\t\t\t\tcost: 1\r\n\t\t\t\t},\r\n\t\t\t\ttarget: {\r\n\t\t\t\t\tvalue: 15,\r\n\t\t\t\t\tunits: \"ft\",\r\n\t\t\t\t\ttype: \"cone\"\r\n\t\t\t\t},\r\n\t\t\t\tdamage: {\r\n\t\t\t\t\tparts: [\r\n\t\t\t\t\t\t[dice + \"d6\", damageType]\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tsave: {\r\n\t\t\t\t\tability: \"dex\",\r\n\t\t\t\t\tdc: spellDC,\r\n\t\t\t\t\tscaling: \"flat\"\r\n\t\t\t\t},\r\n\t\t\t\tlevel: 0,\r\n\t\t\t\tschool: \"trs\",\r\n\t\t\t\tactionType: \"save\",\r\n\t\t\t\tsource: \"XGE\",\r\n\t\t\t},\r\n\t\t\tflags: {\r\n\t\t\t\t\"midi-qol\": {\r\n\t\t\t\t\tonUseMacroName: \"dragons-breath-active-item\",\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}]);\r\n\t\t// Play the casting effect on the caster and the target\r\n\t\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n\t\t.atLocation(casterToken)\r\n\t\t.duration(1000)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.5)\r\n\t\t.opacity(0.3)\r\n\t\t.filter(\"Glow\", {color: 0xffa500})\r\n\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\",delay: 100})\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.impact.004.orange\")\r\n\t\t.atLocation(casterToken)\r\n\t\t.belowTokens()\r\n\t\t.waitUntilFinished(-500)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.markers.light.intro.yellow\")\r\n\t\t.attachTo(targetActor)\r\n\t\t.scaleToObject(1.5)\r\n\t\t.waitUntilFinished(-500)\r\n\t\t.belowTokens()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.markers.light.loop.yellow\")\r\n\t\t.attachTo(targetActor)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`dragons-breath-${targetActor.id}`)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(300)\r\n\t\t.extraEndDuration(800)\r\n\t\t.belowTokens()\r\n\t\t.play();\r\n\t};\r\n}\r\n// When the effect is toggled off:\r\nif (args[0] === \"off\") {\r\n\tlet item = targetActor.actor.data.items.find(i => i.name === spellName);\r\n\tif (!item)\r\n\t\treturn;\r\n\t// Remove the cantrip from the target's sheet when the effect ends\r\n\tconsole.log(item);\r\n\ttargetActor.actor.deleteEmbeddedDocuments('Item', [item.id]);\r\n\t// End the sequencer effect attached to the target\r\n\tSequencer.EffectManager.endEffects({\r\n\t\tname: `dragons-breath-${targetActor.id}`,\r\n\t\tobject: targetActor.id\r\n\t});\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Dragons Breath","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"h1y2cm5698cb59yw","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length - 1];\r\nlet damageType = args[0].item.data.damage.parts[0][1];\r\nlet damageVisualEffect;\r\n\r\nswitch (damageType) {\r\ncase \"acid\":\r\n\tdamageVisualEffect = \"jb2a.breath_weapons.poison.cone.green\";\r\n\tbreak;\r\ncase \"cold\":\r\n\tdamageVisualEffect = \"jb2a.breath_weapons.cold.cone.blue\";\r\n\tbreak;\r\ncase \"fire\":\r\n\tdamageVisualEffect = \"jb2a.breath_weapons.fire.cone.orange.01\";\r\n\tbreak;\r\ncase \"lightning\":\r\n\tdamageVisualEffect = \"jb2a.breath_weapons.lightning.line.blue\";\r\n\tbreak;\r\ncase \"poison\":\r\n\tdamageVisualEffect = \"jb2a.breath_weapons.poison.cone.purple\";\r\n\tbreak;\r\ndefault:\r\n\tdamageVisualEffect = \"jb2a.breath_weapons.fire.cone.orange.01\";\r\n\tbreak;\r\n}\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(damageVisualEffect)\r\n\t.atLocation(template, { cacheLocation: true })\r\n\t.stretchTo(template, { cacheLocation: true })\r\n\t.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Dragons Breath Active Item","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"snoht48ht5fwrbza","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0x89F423 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.effect()\r\n.file(\"jb2a.butterflies.many.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(2000)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Druidcraft","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"4ma58yt7hjsfmut7","command":"//For use with a 10ft spherical template. Will be off-center if cube is used.\r\nconst template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.filter(\"Glow\", { color: 0xFFA500 })\r\n\t.opacity(0.8)\r\n\t.waitUntilFinished(-1000)\r\n\t.effect()\r\n\t.file(\"jb2a.impact.010.orange\")\r\n\t.atLocation(template.position)\r\n\t.fadeOut(500)\r\n\t.fadeIn(100)\r\n\t.scale(1)\r\n\t.belowTokens()\r\n\t.effect()\r\n\t.file(\"jb2a.impact.ground_crack.orange.01\")\r\n\t.atLocation(template.position)\r\n\t.belowTokens()\r\n\t.fadeOut(1000)\r\n\t.fadeIn(100)\r\n\t.scale(1)\r\n\t.belowTokens()\r\n\t.waitUntilFinished(-2000)\r\n\t.effect()\r\n\t.file(\"jb2a.impact.ground_crack.still_frame.01\")\r\n\t.atLocation(template.position)\r\n\t.belowTokens()\r\n\t.fadeOut(1000)\r\n\t.fadeIn(1000)\r\n\t.scale(1)\r\n\t.belowTokens()\r\n\t.persist()\r\n\t.opacity(0.8)\r\n\t.name(`earth-tremor-diff-terrain-marker`)\r\n\t.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Earth Tremor","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"eicy01ajnje5540e","command":"await Sequencer.Preloader.preloadForClients(\r\n    [\"jb2a.energy_strands.complete.dark_red.01\",\r\n        \"jb2a.eldritch_blast.dark_red\",\r\n        \"jb2a.static_electricity.02.red\"\r\n    ], false)\r\n\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\nlet target = Array.from(game.user.targets)[0];\r\n\r\nnew Sequence()\r\n    .effect()\r\n    .file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n    .atLocation(casterToken)\r\n    .duration(2000)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.5)\r\n    .filter(\"Glow\", { color: 0xff0000 })\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .file(\"jb2a.energy_strands.complete.dark_red.01\")\r\n    .atLocation(casterToken)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.5)\r\n\r\n.effect()\r\n    .file(\"jb2a.eldritch_blast.dark_red\")\r\n    .atLocation(casterToken)\r\n    .stretchTo(target)\r\n    .playIf(args[0].hitTargets.length === 1) // Comment this line out if not using MIDI\r\n\r\n.effect()\r\n    .file(\"jb2a.static_electricity.02.red\")\r\n    .atLocation(target)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .delay(1000)\r\n    .scaleToObject()\r\n    .playIf(args[0].hitTargets.length === 1)\r\n\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Eldritch Blast","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"2phti20nuu8k9ygb","command":"\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.markers.light.intro.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)    \r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0x243FD6 })\r\n.opacity(0.5)\r\n.effect()\r\n.file(\"jb2a.hunters_mark.loop.02.blue\")\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n.fadeOut(500)\r\n.scaleToObject(1)\r\n.attachTo(targetId)\r\n.opacity(0.5)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Enhance Ability","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"710rrj4mter0q0v4","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nlet target = Array.from(game.user.targets)[0];\r\nlet distance = canvas.grid.measureDistance(casterToken, target);\r\nlet newSequence = new Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.simple.conjuration\")\r\n\t.atLocation(casterToken)\r\n\t.duration(1700)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.filter(\"Glow\", { color: 0xaaff00 })\r\n\t.scaleIn(0, 500, { ease: \"easeOutCubic\", delay: 100 })\r\n\t.opacity(0.5)\r\n\t.effect()\r\n\t.file(\"jb2a.shatter.green\")\r\n\t.delay(200)\r\n\t.fadeIn(100)\r\n\t.fadeOut(500)\r\n\t.duration(1200)\r\n\t.scale(0.4)\r\n\t.atLocation(casterToken)\r\n\t.effect()\r\n\t.file(\"jb2a.fireflies.few.02.green\")\r\n\t.attachTo(casterToken)\r\n\t.scale(0.5)\r\n\t.duration(4000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.effect()\r\n\t.file(\"jb2a.arrow.physical.green\")\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.atLocation(casterToken)\r\n\t.stretchTo(target)\r\n\t.waitUntilFinished(-300)\r\n\t.playIf(() => {\r\n\t\treturn distance > 8;\r\n\t})\r\n\t.effect()\r\n\t.file(\"jb2a.dagger.melee.02.green\")\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.atLocation(casterToken)\r\n\t.stretchTo(target)\r\n\t.waitUntilFinished(-1300)\r\n\t.playIf(() => {\r\n\t\treturn distance < 8;\r\n\t})\r\n\t.effect()\r\n\t.file(\"jb2a.entangle.green\")\r\n\t.attachTo(target)\r\n\t.scaleToObject(2)\r\n\t.duration(4000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.opacity(0.5)\r\n\t.belowTokens()\r\n\t.effect()\r\n\t.file(\"jb2a.impact.004.green\")\r\n\t.attachTo(target)\r\n\t.fadeIn(100)\r\n\t.fadeOut(100);\r\nnewSequence.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Ensnaring Strike","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"8kb2v9sdikl490t3","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.markers.02.greenorange\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(1000)\r\n\t.scaleToObject(3)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.opacity(0.5)\r\n\t.effect()\r\n\t.file(\"jb2a.markers.01.greenorange\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(500)\r\n\t.scaleToObject(2)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.belowTokens()\r\n\t.animateProperty(\"sprite\", \"rotation\", { from: 0, to: 360, duration: 4000, ease: \"easeInOutCubic\"})\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.simple.conjuration\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.4)\r\n\t.opacity(1)\r\n\t.waitUntilFinished(-300)\r\n\t.filter(\"Glow\", { color: 0x00ff00})    \r\n\t.effect()\r\n\t.file(\"jb2a.entangle.green\")\r\n\t.atLocation(template.position, {cacheLocation: true})\r\n\t.fadeIn(1500)\r\n\t.persist()\r\n\t.fadeOut(1500)\r\n\t.offset({ x: -200, y: -200 })\r\n\t.name(`entangle-${template.id}`)\r\n\t.belowTokens()\r\n\t.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Entangle","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"gx0h0ewm1jiw8br3","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.energy_strands.overlay.orange.01\")\r\n\t.fadeIn(300)\r\n\t.fadeOut(500)\r\n\t.duration(1500)\r\n\t.scale(0.4)\r\n\t.atLocation(args[0].tokenId)\r\n\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})    \r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.waitUntilFinished(-500)\r\n\t.filter(\"Glow\", { color: 0xffa500 })\r\n\t.opacity(0.8)\r\n\t.effect()\r\n\t.file(\"jb2a.markers.light.intro.yellow\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.belowTokens()\r\n\t.fadeOut(500)\r\n\t.duration(1800)\r\n\t.fadeIn(500)\r\n\t.scale(0.7)\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.outpulse.circle.02.normal\")\r\n\t.atLocation(template.position)\r\n\t.filter(\"Glow\", { color: 0xffa500 })\r\n\t.offset({ x: -140, y: -140 })\r\n\t.effect()\r\n\t.file(\"jb2a.impact.ground_crack.01.orange\")\r\n\t.atLocation(template.position)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.offset({ x: -140, y: -140 })\r\n\t.scale(0.8)\r\n\t.belowTokens()\r\n\t.waitUntilFinished(-4900)\r\n\t.effect()\r\n\t.file(\"jb2a.ground_cracks.01.orange\")\r\n\t.atLocation(template.position)\r\n\t.fadeIn(100)\r\n\t.fadeOut(1000)\r\n\t.persist()\r\n\t.scale(0.8)\r\n\t.offset({ x: -140, y: -140 })\r\n\t.belowTokens()\r\n\t.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);\r\n\r\n\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Erupting Earth","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"wt23jmyqiqmusn9d","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet targetID = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence() \r\n\t\t.effect()\r\n\t\t.file(\"jb2a.impact.007.blue\")\r\n\t\t.atLocation(targetID)\r\n\t\t.fadeIn(500)\r\n\t\t.delay(2000)\r\n\t\t.effect()\r\n\t\t.delay(2000)\r\n\t\t.file(\"jb2a.markers.light.loop.blue\")\r\n\t\t.fadeIn(100)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.4, 0.45)\r\n\t\t.attachTo(targetID)\r\n\t\t.randomRotation()\r\n\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t\t.persist()\r\n\t\t.name(`faerie-fire-${targetID.id}`)\r\n\t\t.play();\r\n\r\n\ttargetID.document.update({ light:{ bright : 0, dim: 10, color : '#a5d5f3', alpha: 0.5, angle: 360, animation:{ type: \"pulse\", speed: 5, intensity: 5}}});\r\n\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `faerie-fire-${targetID.id}`, object: targetID });\r\n\ttargetID.document.update({ light:{ bright : 0, dim: 0, color : '#000000', alpha: 0.5, angle: 360, animation:{ type: \"pulse\", speed: 5, intensity: 5}}});\r\n\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Faerie Fire Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"recrdcojilmej0fe","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nconst template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0x7D87BF }) \r\n.play();\r\n\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Faerie Fire Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"rks11r9ym8n5ch2n","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nlet myStringArray = Array.from(game.user.targets)[0];\r\nlet arrayLength = game.user.targets.size;\r\n\r\nfor (let i = 0; i < arrayLength; i++) {\r\n\tlet targetId = Array.from(game.user.targets)[i];\r\n\tnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n\t.atLocation(casterToken)\r\n\t.fadeIn(100)\r\n\t.fadeOut(500)\r\n\t.duration(1200) \r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n\t.atLocation(casterToken)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.waitUntilFinished(-500)\r\n\t.filter(\"Glow\", { color: 0xffffbf })\r\n\t.effect()\r\n\t.file(\"jb2a.impact.007.yellow\")\r\n\t.fadeIn(100)\r\n\t.fadeOut(100)\r\n\t.scale(0.4, 0.45)\r\n\t.atLocation(targetId)\r\n\t.randomRotation()\r\n\t.play();\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Feather Fall","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"zqlbgxm9wemia35e","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.conjuration\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.effect()\r\n.file(\"jb2a.magic_signs.circle.02.conjuration.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.waitUntilFinished(-500)\r\n.scale(0.5)\r\n.effect()\r\n.file(\"jb2a.magic_signs.circle.02.conjuration.outro.blue\")\r\n.atLocation(casterToken)\r\n.fadeOut(100)\r\n.waitUntilFinished(-100)\r\n.scale(0.5)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Find Familiar","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"pno9avsbq3b33gxa","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nlet target = Array.from(game.user.targets)[0];\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.8)\r\n.filter(\"Glow\", { color: 0xffa500 })\r\n.scaleIn(0, 500, { ease: \"easeOutCubic\", delay: 100 })\r\n.effect()\r\n.file(\"jb2a.smoke.puff.centered.dark_black\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.randomRotation()\r\n.effect()\r\n.file(\"jb2a.fire_bolt.orange\")\r\n.atLocation(casterToken)\r\n.stretchTo(target)\r\n.playIf(args[0].hitTargets.length === 1) // Comment this line out if not using MIDI\r\n.effect()\r\n.file(\"jb2a.impact.009.orange\")\r\n.atLocation(target)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.delay(1000)\r\n.scaleToObject()\r\n.playIf(args[0].hitTargets.length === 1)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Fire Bolt","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"x4p6xchas15gcfcn","command":"//Preloading the Files to make sure they play a bit nicer when animatiing.\r\nawait Sequencer.Preloader.preloadForClients(\r\n    [\"jb2a.extras.tmfx.runes.circle.inpulse.evocation\",\r\n        \"jb2a.fireball.beam.purple\",\r\n        \"jb2a.fireball.explosion.purple\",\r\n        \"jb2a.flames.01.purple\"\r\n    ], false)\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n//get the template id from the canvas and its positions.\r\nlet fireTemplate = canvas.templates.get(args[0].templateId);\r\nlet templatePosition = fireTemplate.position;\r\n//get an array of the targets within the tempalte area.\r\nconst targetLocations = Array.from(game.user.targets);\r\n\r\nawait fireTemplate.document.delete();\r\n\r\nlet sequence = new Sequence()\r\n\r\nsequence.effect()\r\n    .file(\"jb2a.extras.tmfx.runes.circle.inpulse.evocation\")\r\n    .atLocation(casterToken)\r\n    .duration(2000)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.5)\r\n    .filter(\"Glow\", { color: 0x6a0dad })\r\n    .waitUntilFinished(-500)\r\n\r\nsequence.effect()\r\n    .file(\"jb2a.fireball.beam.purple\")\r\n    .atLocation(casterToken)\r\n    .stretchTo(templatePosition)\r\n    .waitUntilFinished(-1000)\r\n\r\nsequence.effect()\r\n    .file(\"jb2a.fireball.explosion.purple\")\r\n    .atLocation(templatePosition)\r\n    .waitUntilFinished(-2100)\r\n\r\n\r\n//blast mark from the forgotten adventures site, you need to find your own blast mark or use the agreed one by JB2A and FA\r\nsequence.effect()\r\n    .file(\"jb2a.ground_cracks.purple.01\")\r\n    .atLocation(templatePosition)\r\n    .scale(1)\r\n    .fadeIn(300)\r\n    .duration(10000)\r\n    .fadeOut(500)\r\n    .belowTokens()\r\n\r\n\r\nfor (let targetLoc of targetLocations) {\r\n    sequence.effect()\r\n        .from(targetLoc)\r\n        .duration(2500)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .atLocation(targetLoc)\r\n        .filter(\"Glow\", { color: 0x6a0dad })\r\n\r\n    sequence.effect()\r\n        .file(\"jb2a.flames.01.purple\")\r\n        .filter(\"Glow\", { color: 0x6a0dad })\r\n        .atLocation(targetLoc)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .duration(2000)\r\n}\r\n\r\n\r\n\r\nsequence.play()","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Fireball","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"0va2oullgprgfrey","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n//get the template id from the canvas and its positions.\r\nconst templatePosition = canvas.templates.placeables[canvas.templates.placeables.length - 1];\r\n//get an array of the targets within the tempalte area.\r\nconst targetLocations = Array.from(game.user.targets);\r\n\r\nlet sequence = new Sequence();\r\n\r\nsequence.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffa500 })\r\n.waitUntilFinished(-500);\r\n\r\nsequence.effect()\r\n.file(\"jb2a.fireball.beam.orange\")\r\n.atLocation(casterToken)\r\n.stretchTo(templatePosition)\r\n.waitUntilFinished(-1800);\r\n\r\nsequence.effect()\r\n.file(\"jb2a.fireball.explosion.orange\")\r\n.atLocation(templatePosition)\r\n.waitUntilFinished(-2100);\r\n\r\n//blast mark from the forgotten adventures site, you need to find your own blast mark or use the agreed one by JB2A and FA\r\nsequence.effect()\r\n.file(\"jb2a.ground_cracks.orange.01\")\r\n.atLocation(templatePosition)\r\n.fadeIn(300)\r\n.duration(10000)\r\n.fadeOut(350)\r\n.name(`fireball-impact-${templatePosition.data._id}`)\r\n.belowTokens();\r\n\r\n//loop through targets and play only if failed save (to do)\r\nfor (let targetLoc of targetLocations) {\r\n\tsequence.effect()\r\n\t.file(\"jb2a.flames.01.orange\")\r\n\t.filter(\"Glow\", { color: 0xffa700 })\r\n\t.atLocation(targetLoc)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.duration(2000);\r\n}\r\nsequence.thenDo(() => canvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [templatePosition.data._id]));\r\nsequence.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Fireball Alt","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"rwtvfxw6clbpt4lw","command":"await Sequencer.Preloader.preloadForClients(\r\n    [\"jb2a.glaive.melee.01.orange\",\r\n        \"jb2a.flames.01.orange\"\r\n    ], false)\r\n\r\n//This uses MIDI QOL to check for Hits before playing certain parts\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n\r\nlet target = canvas.tokens.get(args[0].targets[0].id);\r\n//midi checking for hit.\r\nlet targetHit = args[0].hitTargets.length === 1;\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n    .file(\"jb2a.glaive.melee.01.orange\")\r\n    .atLocation(casterToken)\r\n    .stretchTo(target)\r\n    .filter(\"Glow\", { color: 0xFFC300 })\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .from(target)\r\n    .duration(1500)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .atLocation(target)\r\n    .filter(\"Glow\", { color: 0xFFC300 })\r\n    .playIf(targetHit)\r\n\r\n.effect()\r\n    .file(\"jb2a.flames.01.orange\")\r\n    .atLocation(target)\r\n    .duration(1500)\r\n    .fadeIn(500)\r\n    .fadeOut(300)\r\n    .playIf(targetHit)\r\n\r\n.play()","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Flame Glaive","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"vaddbkyzbipe0f2k","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nawait warpgate.spawn(\"Flaming Sphere\", {}, {\r\n    pre: async (location) => {\r\n        const seq = new Sequence()\r\n        .effect()\r\n            .file(\"jb2a.energy_strands.complete.orange.01\")\r\n            .scale(0.4)\r\n            .atLocation(casterToken)\r\n            .fadeIn(500)\r\n            .duration(1500)\r\n            .fadeOut(500)\r\n        .effect()\r\n            .file(\"jb2a.extras.tmfx.runes.circle.inpulse.conjuration\")\r\n            .scale(0.4)\r\n            .atLocation(casterToken)\r\n            .waitUntilFinished(-1000)\r\n            .fadeIn(500)\r\n            .duration(1500)\r\n            .fadeOut(500)\r\n            .filter(\"Glow\", { color: 0xecbe51 })\r\n        .effect()\r\n            .file(\"jb2a.explosion.02.orange\")\r\n            .atLocation(location)\r\n            .fadeIn(100)\r\n            .fadeOut(100)\r\n            .scale(0.8)\r\n            .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n        seq.play();\r\n\r\n        // Sleep for 300ms\r\n        await (new Promise(resolve => setTimeout(resolve, 800)));\r\n    }\r\n}, {\r\n    collision: false\r\n});","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Flaming Sphere","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"1mf1a4z3e4c9xt66","command":"\r\nconst template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.markers.light.outro.blue\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(1000)\r\n\t.scaleToObject(3)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(3500)\r\n\t.opacity(0.5)\r\n\t.effect()\r\n\t.file(\"jb2a.markers.01.blueyellow\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(500)\r\n\t.scaleToObject(2)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(3500)\r\n\t.belowTokens()\r\n\t.animateProperty(\"sprite\", \"rotation\", { from: 0, to: 360, duration: 4000, ease: \"easeInOutCubic\"})\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.simple.conjuration\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.4)\r\n\t.opacity(1)\r\n\t.waitUntilFinished(1000)\r\n\t.effect()\r\n\t.file(\"jb2a.fog_cloud.1.white\")\r\n\t.atLocation(template.position)\r\n\t.fadeIn(4000)\r\n\t.fadeOut(4000)\r\n\t.persist()\r\n\t.name(`fog-cloud${template.id}`)\r\n\t.opacity(0.8)\r\n\t.scaleToObject(9)\r\n\t.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Fog Cloud","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"mqek2npzv3r6opf5","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nlet target = Array.from(game.user.targets)[0];\r\n\r\n//To do - checking for if target saves or not.\r\n//let targetSave = args[0].saves.length === 1;\r\n\r\nnew Sequence()\r\n\r\n.sound()\r\n.file(\"/worlds/doip/sounds/dragonroar.mp3\")\r\n\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.inpulse.circle.03\")\r\n.atLocation(casterToken)\r\n.filter(\"Glow\", { color: 0xFFC300 })\r\n.duration(2000)\r\n.scale(1)\r\n.belowTokens()\r\n.waitUntilFinished(-500)\r\n\r\n.effect()\r\n.file(\"jb2a.energy_strands.complete.orange.01\")\r\n.atLocation(casterToken)\r\n.duration(2500)\r\n.fadeIn(500)\r\n.fadeOut(300)\r\n.scale(1)\r\n.waitUntilFinished(-500)\r\n\r\n.effect()\r\n.file(\"jb2a.icon.fear.orange\")\r\n.atLocation(casterToken)\r\n.duration(2500)\r\n.fadeIn(500)\r\n.fadeOut(300)\r\n.scaleToObject()\r\n.waitUntilFinished(-500)\r\n\r\n.effect()\r\n.file(\"jb2a.markers.fear.orange.02\")\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.atLocation(target)\r\n.persist()\r\n//   .playIf(targetSave)\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Frightful Presence","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"qi00af5lvw8kimwk","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.inpulse.circle.04.normal\")\r\n.atLocation(targetId)\r\n.duration(3000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.filter(\"Glow\", { color: 0xd9f1ff })    \r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(3000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(2)\r\n.filter(\"Glow\", { color: 0xd9f1ff })\r\n.effect()\r\n.file(\"jb2a.shield_themed.above.ice.01.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.duration(3000)\r\n.fadeOut(500)\r\n.scaleToObject(1.5)\r\n.opacity(0.8)\r\n.effect()\r\n.file(\"jb2a.shield_themed.below.ice.01.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.duration(3000)\r\n.fadeOut(500)\r\n.scaleToObject(1.5)\r\n.opacity(0.8)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.ice_spikes.radial.burst.white\")\r\n.atLocation(targetId)\r\n.duration(1500)\r\n.fadeOut(500)\r\n.scaleToObject(1.5)\r\n\r\n.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Frostbite","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"wofmiq9u9wdbullk","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.token_border.circle.static.blue.001\")\r\n\t\t.delay(2000)\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.fadeIn(2000)\r\n\t\t.fadeOut(2000)\r\n\t\t.persist()\r\n\t\t.name(`frostbite-${tokenD.id}`)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `frostbite-${tokenD.id}`, object: tokenD });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Frostbite Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"fqrnfyru4y9x5wxj","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.4)\r\n.filter(\"Glow\", { color: 0x98fb98 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.effect()\r\n.file(\"jb2a.fireflies.many.01.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(700)\r\n.fadeOut(700)\r\n.duration(4000)\r\n.scale(0.4)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Goodberry","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"1mmhtszkxdqwx70m","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.divination\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffffbf })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.outpulse.circle.01.slow\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.filter(\"Glow\", { color: 0xffffbf })\r\n.opacity(0.8)\r\n.effect()\r\n.file(\"jb2a.bless.200px.intro.yellow\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.belowTokens()\r\n.scaleToObject(2)\r\n.opacity(0.4)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n.waitUntilFinished(-500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Guidance","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"3rn9svxxj9bhrql8","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nlet target = Array.from(game.user.targets)[0];\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.markers.light.intro.yellow\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(1000)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(1500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffffbf })\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.guiding_bolt.01.blueyellow\")\r\n.fadeIn(500)\r\n.fadeOut(300)\r\n.atLocation(casterToken)\r\n.stretchTo(target)\r\n.playIf(args[0].hitTargets.length === 1) // Comment this line out if not using MIDI\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Guiding Bolt","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"gctziyyen5rueq7j","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nawait warpgate.spawn(\"Healing Spirit\", {}, {\r\n    pre: async (location) => {\r\n        const seq = new Sequence()\r\n        .effect()\r\n        .file(\"jb2a.extras.tmfx.runes.circle.outpulse.conjuration\")\r\n        .atLocation(casterToken)\r\n        .duration(2000)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .opacity(0.3)\r\n        .filter(\"Glow\", { color: 0x7D87BF })\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n    .effect()\r\n        .file(\"jb2a.moonbeam.01.intro.blue\")\r\n        .atLocation(casterToken)\r\n        .fadeIn(100)\r\n        .fadeOut(200)\r\n        .duration(1200)\r\n        .waitUntilFinished(-500)\r\n    .effect()\r\n        .file(\"jb2a.toll_the_dead.blue.shockwave\")\r\n        .atLocation(location)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n\r\n    seq.play();\r\n\r\n        // Sleep for 500ms\r\n        await (new Promise(resolve => setTimeout(resolve, 1200)));\r\n    }\r\n}, {\r\n    collision: false\r\n});","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Healing Spirit","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"kmljpb9tvq7093s6","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nlet myStringArray = Array.from(game.user.targets)[0];\r\nlet arrayLength = game.user.targets.size;\r\n\r\nfor (let i = 0; i < arrayLength; i++) {\r\n\tlet targetId = Array.from(game.user.targets)[i];\r\n\tnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n\t.atLocation(casterToken)\r\n\t.duration(1000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.waitUntilFinished(-500)\r\n\t.filter(\"Glow\", { color: 0xabcdef })\r\n\t.effect()\r\n\t.file(\"jb2a.impact.004.blue\")\r\n\t.atLocation(targetId)\r\n\t.fadeIn(500)\r\n\t.effect()\r\n\t.file(\"jb2a.healing_generic.400px.blue\")\r\n\t.fadeIn(100)\r\n\t.fadeOut(100)\r\n\t.scale(0.4, 0.45)\r\n\t.atLocation(targetId)\r\n\t.randomRotation()\r\n\t.play();\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Healing Word","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"byv7rkf3ymbr7nd3","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-1500)\r\n.filter(\"Glow\", { color: 0xffad33 })\r\n.effect()\r\n.file(\"jb2a.impact.004.orange\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.effect()\r\n.file(\"jb2a.flames.orange.01\")\r\n.fadeIn(100)\r\n.duration(4000)\r\n.fadeOut(1000)\r\n.scaleToObject(3)\r\n.atLocation(targetId)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n.scaleOut(0, 4000, {ease: \"easeOutCubic\"})\r\n.effect()\r\n.file(\"jb2a.impact.011.orange\")\r\n.atLocation(targetId)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(2)\r\n.effect()\r\n.file(\"jb2a.smoke.puff.centered.dark_black.0\")\r\n.atLocation(targetId)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(3)\r\n.randomRotation()\r\n.play();\r\n\r\n\r\n  ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Hellish Rebuke","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"7oz6sj3blhdf236p","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nlet target = canvas.tokens.get(args[0].targets[0].id);\r\nlet targetImg = Array.from(game.user.targets)[0].data.img;\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-500)\r\n\r\n.effect()\r\n.file(\"jb2a.markers.light.loop.blue\")\r\n.atLocation(casterToken)\r\n.duration(1500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.waitUntilFinished(-500)\r\n\r\n.effect()\r\n.file(\"jb2a.swirling_sparkles.01.blue\")\r\n.atLocation(target)\r\n.waitUntilFinished(-250)\r\n\r\n.effect()\r\n.file(targetImg)\r\n.fadeOut(500)\r\n.atLocation(target)\r\n.scaleIn(0, 500, { ease: \"easeInCubic\", delay: 0 })\r\n.scaleToObject(3)\r\n.waitUntilFinished(-250)\r\n\r\n.effect()\r\n.file(targetImg)\r\n.fadeOut(500)\r\n.atLocation(target)\r\n.scaleIn(0, 500, { ease: \"easeInCubic\", delay: 0 })\r\n.scaleToObject(3)\r\n.waitUntilFinished(-250)\r\n\r\n.effect()\r\n.file(\"jb2a.ward.star.yellow.02\")\r\n.atLocation(target)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(2.5)\r\n.persist()\r\n.belowTokens()\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Heroism","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"59oecnuv9edy6f2o","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet targetID = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence() \r\n\t\t.effect()\r\n\t\t.file(\"jb2a.impact.dark_red.2\")\r\n\t\t.atLocation(targetID)\r\n\t\t.fadeIn(500)\r\n\t\t.delay(2000)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.smoke.puff.centered.dark_black.1\")\r\n\t\t.atLocation(targetID)\r\n\t\t.fadeIn(500)\r\n\t\t.delay(2300)\r\n\t\t.effect()\r\n\t\t.delay(2000)\r\n\t\t.file(\"jb2a.token_stage.round.red.01.04\")\r\n\t\t.fadeIn(100)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.4, 0.45)\r\n\t\t.attachTo(targetID)\r\n\t\t.randomRotation()\r\n\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t\t.persist()\r\n\t\t.name(`hex-${targetID.id}`)\r\n\t\t.play();\r\n\r\n\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `hex-${targetID.id}`, object: targetID });\r\n\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Hex Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"bd37hd6nr3m7odl3","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xcd5c5c }) \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Hex Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"m8c0aqjfpmsnbzkj","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xc00000 })\r\n.effect()\r\n.file(\"jb2a.impact.004.dark_red\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.static_electricity.01.red\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.duration(2000)\r\n.fadeOut(500)\r\n.scale(0.4)\r\n.opacity(0.8)\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.enchantment\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(2)\r\n.duration(2000)\r\n.fadeOut(500)\r\n.filter(\"Glow\", { color: 0xc00000 })\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Hold Person","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"meiss3hws8n51n48","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.markers.02.dark_bluewhite\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(1000)\r\n\t.scaleToObject(3)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(3500)\r\n\t.opacity(0.5)\r\n\t.effect()\r\n\t.file(\"jb2a.markers.01.dark_bluewhite\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(500)\r\n\t.scaleToObject(2)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(3500)\r\n\t.belowTokens()\r\n\t.animateProperty(\"sprite\", \"rotation\", { from: 0, to: 360, duration: 4000, ease: \"easeInOutCubic\"})\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.simple.evocation\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.4)\r\n\t.opacity(1)\r\n\t.waitUntilFinished(1000)\r\n\t.filter(\"Glow\", { color: 0x00008b})    \r\n\t.effect()\r\n\t.file(\"jb2a.sleet_storm.purple\")\r\n\t.atLocation(template.position)\r\n\t.scaleToObject(9.5)\r\n\t.scaleIn(0, 7000, {ease: \"easeOutCubic\", delay: 100})\r\n\t.fadeIn(300)\r\n\t.persist()\r\n\t.scaleOut(0, 7000, {ease: \"easeOutCubic\", delay: 100})\r\n\t.fadeOut(4000)\r\n\t.name(`hunger-of-hadar-part-1${template.id}`)\r\n\t.opacity(0.8)\r\n\t.belowTokens()\r\n\t.effect()\r\n\t.file(\"jb2a.darkness.black\")\r\n\t.atLocation(template.position)\r\n\t.scaleIn(0, 1000, {ease: \"easeOutCubic\", delay: 100})\r\n\t.fadeIn(300)\r\n\t.scaleOut(0, 4000, {ease: \"easeOutCubic\", delay: 100})\r\n\t.fadeOut(4000)\r\n\t.persist()\r\n\t.name(`hunger-of-hadar-part-2${template.id}`)\r\n\t.opacity(0.8)\r\n\t.scaleToObject(9)\r\n\t.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Hunger Of Hadar","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"mcv7ovvv5l5sfc5v","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nconst casterToken = canvas.tokens.controlled[0];\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nlet targetID = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\r\n\tnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.markers.light.intro.green\")\r\n\t.atLocation(casterToken)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)    \r\n\t.effect()\r\n\t.file(\"jb2a.hunters_mark.pulse.02.blue\")\r\n\t.atLocation(casterToken)\r\n\t.duration(4000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.waitUntilFinished(-2000)\r\n\t.filter(\"Glow\", { color: 0xfefebe })\r\n\t.opacity(0.5)\r\n\t.effect()\r\n\t.file(\"jb2a.hunters_mark.loop.02.blue\")\r\n\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t.fadeOut(500)\r\n\t.scaleToObject(1)\r\n\t.attachTo(targetID)\r\n\t.persist()\r\n\t.opacity(0.5)\r\n\t.name(`hunters-mark-${targetID.id}`)\r\n\t.play();\r\n\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `hunters-mark-${targetID.id}`, object: targetID });\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Hunters Mark Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"9ekupylvdlgle9hu","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nlet target = Array.from(game.user.targets)[0];\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.conjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xD7E5F0 })\r\n.scaleIn(0, 500, { ease: \"easeOutCubic\", delay: 100 })\r\n.effect()\r\n.file(\"jb2a.shield_themed.above.ice.03.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.duration(4000)\r\n.fadeOut(500)\r\n.opacity(0.5)\r\n.scale(0.5)\r\n.effect()\r\n.file(\"jb2a.bolt.cold.blue\")\r\n.atLocation(casterToken)\r\n.stretchTo(target)\r\n.waitUntilFinished(-1400)\r\n.effect()\r\n.file(\"jb2a.side_impact.ice_shard.blue\")\r\n.atLocation(casterToken)\r\n.rotateTowards(target)\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.scale(0.5)\r\n.effect()\r\n.file(\"jb2a.impact_themed.ice_shard.blue\")\r\n.atLocation(target)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.waitUntilFinished(-2000)\r\n.scaleToObject(2)\r\n.effect()\r\n.file(\"jb2a.ice_spikes.radial.burst.white\")\r\n.atLocation(target)\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.scaleToObject(2)\r\n.waitUntilFinished(-1000)\r\n.effect()\r\n.file(\"jb2a.impact_themed.ice_shard.blue\")\r\n.atLocation(target)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(2)\r\n.play();\r\n\r\n//WIP\r\n\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Ice Knife","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"ixjts398ud7bstqq","command":"await Sequencer.Preloader.preloadForClients(\r\n    [\"jb2a.fire_bolt.blue\",\r\n        \"jb2a.extras.tmfx.inflow.circle.02\",\r\n        \"jb2a.magic_signs.circle.02.evocation.intro.blue\",\r\n        \"jb2a.ice_spikes.radial.burst.blue\"\r\n    ], false)\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n\r\nlet iceTemplate = canvas.templates.get(args[0].templateId)\r\nlet tokenD = canvas.tokens.get(args[0].tokenId);\r\n\r\nlet templatePosition = iceTemplate.position;\r\n\r\nawait iceTemplate.document.delete();\r\n\r\nnew Sequence()\r\n    .effect()\r\n    .file(\"jb2a.extras.tmfx.runes.circle.inpulse.evocation\")\r\n    .atLocation(casterToken)\r\n    .duration(2000)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.5)\r\n    .filter(\"Glow\", { color: 0x7393B3 })\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .file(\"autoanimations.range.firebolt.01.blue\")\r\n    .atLocation(tokenD)\r\n    .startTime(350)\r\n    .stretchTo(templatePosition)\r\n    .waitUntilFinished(-1000)\r\n\r\n\r\n.effect()\r\n    .file(\"jb2a.extras.tmfx.inflow.circle.02\")\r\n    .atLocation(templatePosition)\r\n    .fadeIn(500)\r\n    .filter(\"Glow\", { color: 0x7393B3 })\r\n    .fadeOut(500)\r\n    .scale(2.5)\r\n    .opacity(0.3)\r\n    .belowTokens()\r\n\r\n\r\n.effect()\r\n    .file(\"jb2a.magic_signs.circle.02.evocation.intro.blue\")\r\n    .atLocation(templatePosition)\r\n    .scale(1)\r\n    .waitUntilFinished(250)\r\n    .belowTokens()\r\n\r\n.effect()\r\n    .file(\"jb2a.ice_spikes.radial.burst.blue\")\r\n    .atLocation(templatePosition)\r\n    .scale(1.5)\r\n    .wait(150)\r\n\r\n.effect()\r\n    .file(\"jb2a.sleet_storm.blue\")\r\n    .atLocation(templatePosition)\r\n    .scale(1)\r\n    .fadeIn(300)\r\n    .scaleIn(0, 300, { ease: \"easeOutSine\" })\r\n    .persist()\r\n    .fadeOut(2000)\r\n    .belowTokens()\r\n\r\n.play()","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Ice Storm","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"ckzqqlq2cmsz0ccz","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.necromancy\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(4)\r\n.duration(1000)\r\n.fadeOut(500)\r\n.effect()\r\n.file(\"jb2a.cure_wounds.400px.red\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.duration(1500)\r\n.waitUntilFinished(-800)\r\n.effect()\r\n.file(\"jb2a.impact.003.dark_red\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.impact.004.dark_red\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.file(\"jb2a.portals.horizontal.ring.dark_red\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(2, 2.2)\r\n.duration(2500)\r\n.fadeOut(500)\r\n.belowTokens()\r\n.randomRotation()  \r\n.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Inflict Wounds","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"x34qy2fctwhx9n09","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nawait warpgate.spawn(\"Illusory Duplicate\", {}, {\r\n    pre: async (location) => {\r\n        const seq = new Sequence()\r\n        .effect()\r\n        .file(\"jb2a.sneak_attack.blue\")\r\n        .atLocation(casterToken)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .opacity(0.3)\r\n        .filter(\"Glow\", { color: 0xa1c4fd })\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n    .effect()\r\n        .file(\"jb2a.moonbeam.01.intro.blue\")\r\n        .atLocation(casterToken)\r\n        .fadeIn(100)\r\n        .fadeOut(200)\r\n        .duration(1200)\r\n        .waitUntilFinished(-500)\r\n    .effect()\r\n        .file(\"jb2a.toll_the_dead.blue.shockwave\")\r\n        .atLocation(location)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n        .filter(\"Glow\", { color: 0xa1c4fd })\r\n\r\n    seq.play();\r\n\r\n        // Sleep for 500ms\r\n        await (new Promise(resolve => setTimeout(resolve, 1200)));\r\n    }\r\n}, {\r\n    collision: false\r\n});","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Invoke Duplicity","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"7kjw43d1z4xrl18j","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-1000)\r\n.filter(\"Glow\", { color: 0xadd8e6 })\r\n.effect()\r\n.file(\"jb2a.impact.004.dark_purple\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.effect()\r\n.file(\"jb2a.markers.light.loop.blue\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.belowTokens()\r\n.scaleToObject(1.5)\r\n.animateProperty(\"spriteContainer\", \"rotation\", { from: 0, to: 360, duration: 5000, delay: 0 })\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Jump","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"0cxl67pg1otwh8b8","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.purple.01\")\r\n.delay(200)\r\n.fadeIn(300)\r\n.fadeOut(500)\r\n.duration(3000)\r\n.scale(0.4)\r\n.atLocation(casterToken)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})    \r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0x800080 })    \r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.belowTokens()\r\n.waitUntilFinished(-500)        \r\n.effect()\r\n.file(\"jb2a.detect_magic.circle.purple\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.randomRotation() \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Knock","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"893l4pu1csdudf6s","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.abjuration\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(4)\r\n.duration(1000)\r\n.fadeOut(500)\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.blue.01\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.scaleToObject(4)\r\n.duration(1000)\r\n.fadeOut(500)\r\n.effect()\r\n.file(\"jb2a.cure_wounds.400px.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.duration(1500)\r\n.waitUntilFinished(-1000)\r\n.effect()\r\n.file(\"jb2a.impact.003.blue\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.healing_generic.loop.bluewhite\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.belowTokens()\r\n.opacity(0.5)\r\n.effect()\r\n.file(\"jb2a.healing_generic.burst.bluewhite\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.opacity(0.5)       \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Lesser Restoration","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"sdhs6n6og4jvgyc5","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffa500 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.effect()\r\n.file(\"jb2a.impact.yellow.5\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Light","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"6g4ogxxn5hgtvovd","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet targetID = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\ttargetID.document.update({ light:{ bright : 20, dim: 40, color : '#ffffff', alpha: 0.5, angle: 360, animation:{ type: \"pulse\", speed: 5, intensity: 5}}});\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `faerie-fire-${targetID.id}`, object: targetID });\r\n\ttargetID.document.update({ light:{ bright : 0, dim: 0, color : '#000000', alpha: 0.5, angle: 360, animation:{ type: \"pulse\", speed: 5, intensity: 5}}});\r\n\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Light Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"2h2ul1ytii9jr035","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffa500 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.impact.007.orange\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.impact.007.orange\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.file(\"jb2a.token_border.circle.spinning.orange.008\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.scaleToObject(2, 2.2)\r\n.duration(5000)\r\n.fadeOut(1000)\r\n.belowTokens()\r\n.randomRotation()  \r\n.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Longstrider","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"gy0cuj8reff6st0z","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.energy_field.02.above.blue\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scaleToObject(1.5)\r\n\t\t.opacity(0.3)\r\n\t\t.persist()\r\n\t\t.name(`mage-armor-${tokenD.id}`)\r\n\t\t.fadeIn(1000)\r\n\t\t.fadeOut(1000)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `mage-armor-${tokenD.id}`, object: tokenD });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Mage Armor Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"yo5x0y10nnfas16w","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.shield.02.intro.blue\")\r\n.opacity(0.4)\r\n.scale(0.45)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Mage Armor Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"95s1ngss6yuzs0k6","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nawait warpgate.spawn(\"Mage Hand\", {}, {\r\n    pre: async (location) => {\r\n        const seq = new Sequence()\r\n        .effect()\r\n        .file(\"jb2a.extras.tmfx.runes.circle.outpulse.conjuration\")\r\n        .atLocation(casterToken)\r\n        .duration(2000)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .opacity(0.3)\r\n        .filter(\"Glow\", { color: 0xa1c4fd })\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n    .effect()\r\n        .file(\"jb2a.moonbeam.01.intro.blue\")\r\n        .atLocation(casterToken)\r\n        .fadeIn(100)\r\n        .fadeOut(200)\r\n        .duration(1200)\r\n        .waitUntilFinished(-500)\r\n    .effect()\r\n        .file(\"jb2a.toll_the_dead.blue.shockwave\")\r\n        .atLocation(location)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n        .filter(\"Glow\", { color: 0xa1c4fd })\r\n\r\n    seq.play();\r\n\r\n        // Sleep for 500ms\r\n        await (new Promise(resolve => setTimeout(resolve, 1200)));\r\n    }\r\n}, {\r\n    collision: false\r\n});","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Mage Hand","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"3yukc14s19g8jtwq","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffa500 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.outpulse.circle.02.normal\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffa500 })\r\n.opacity(0.5)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Mending","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"r41j4j66dmdbe2yj","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.purple.01\")\r\n.delay(200)\r\n.fadeIn(300)\r\n.fadeOut(500)\r\n.duration(3000)\r\n.scale(0.4)\r\n.atLocation(casterToken)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})    \r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0x800080 })    \r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.belowTokens()\r\n.waitUntilFinished(-500)        \r\n.effect()\r\n.delay(500)\r\n.file(\"jb2a.impact.007.purple\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.effect()\r\n.file(\"jb2a.ice_spikes.radial.burst.white\")\r\n.scale(0.3)\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.duration(1500) \r\n.opacity(0.5)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Mind Sliver","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"d6sois0r7itkny5u","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nawait warpgate.spawn(\"Minor Illusion\", {}, {\r\n    pre: async (location) => {\r\n        const seq = new Sequence()\r\n        .effect()\r\n        .file(\"jb2a.extras.tmfx.runes.circle.outpulse.illusion\")\r\n        .atLocation(casterToken)\r\n        .duration(2000)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .opacity(0.3)\r\n        .filter(\"Glow\", { color: 0xffffbf })\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n    .effect()\r\n        .file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n        .atLocation(casterToken)\r\n        .fadeIn(100)\r\n        .fadeOut(200)\r\n        .duration(1200)\r\n        .waitUntilFinished(-500)\r\n    .effect()\r\n        .file(\"jb2a.toll_the_dead.blue.shockwave\")\r\n        .atLocation(location)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n\r\n    seq.play();\r\n\r\n        // Sleep for 500ms\r\n        await (new Promise(resolve => setTimeout(resolve, 1200)));\r\n    }\r\n}, {\r\n    collision: false\r\n});","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Minor Illusion","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"qf08zby4clg7apwa","command":"\r\n//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field. The parameters @target and @token need to be passed in (In this order)\r\n//This needs sequencer 1.20 RC5 or later to work! There's a delta time bug that will cause the images to spiral out of control that's fixed in this release.\r\nconst casterToken = canvas.tokens.get(args[2]);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nlet target = canvas.tokens.get(args[1]);\r\nlet targetImg = target.data.img;\r\nif (args[0] === \"on\") {\r\n\t// If the dynamic active effect started\r\n\tconst positions = [{\r\n\t\tx: [],\r\n\t\ty: [] \r\n\t},\r\n\t{\r\n\t\tx: [],\r\n\t\ty: []\r\n\t},\r\n\t{\r\n\t\tx: [],\r\n\t\ty: []\r\n\t},\r\n\t];\r\n\tconst pi = 3.1415926535;\r\n\tfor (let i = 0; i < 360; i += 3) {\r\n\t\tlet angle = i;\r\n\t\tlet x1 = 40 * Math.cos(angle * (pi / 180));\r\n\t\tlet y1 = 40 * Math.sin(angle * (pi / 180));\r\n\t\tpositions[0].x.push(x1);\r\n\t\tpositions[0].y.push(y1);\r\n\t}\r\n\tfor (let i = 0; i < 360; i += 3) {\r\n\t\tlet angle = i;\r\n\t\tlet x1 = -40 * Math.cos(angle * (pi / 180));\r\n\t\tlet y1 = -40 * Math.sin(angle * (pi / 180));\r\n\t\tpositions[2].x.push(x1);\r\n\t\tpositions[2].y.push(y1);\r\n\t}\r\n\tpositions[1].x = positions[0].x.slice().reverse();\r\n\tpositions[1].y = positions[0].y.slice().reverse();\r\n\r\n\tconst seq = new Sequence();\r\n\tseq.effect()\r\n\t.file(\"jb2a.impact.004.dark_purple\")\r\n\t.atLocation(casterToken)\r\n\t.fadeIn(500);\r\n\tseq.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.simple.illusion\")\r\n\t.atLocation(casterToken)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.filter(\"Glow\", {\r\n\t\tcolor: 0x3c1361\r\n\t})\r\n\t.scaleIn(0, 500, {\r\n\t\tease: \"easeOutCubic\"\r\n\t})\r\n\t.waitUntilFinished(-1000);\r\n\tseq.animation()\r\n\t.on(casterToken)\r\n\t.fadeOut(1000);\r\n\tseq.effect()\r\n\t.file(targetImg)\r\n\t.fadeIn(1000)\r\n\t.fadeOut(1000)\r\n\t.attachTo(target)\r\n\t.loopProperty(\"sprite\", \"position.x\", {\r\n\t\tvalues: positions[0].x,\r\n\t\tduration: 24,\r\n\t\tpingPong: false,\r\n\t})\r\n\t.loopProperty(\"sprite\", \"position.y\", {\r\n\t\tvalues: positions[0].y,\r\n\t\tduration: 24,\r\n\t\tpingPong: false,\r\n\t})\r\n\t.persist()\r\n\t.scaleToObject(1)\r\n\t.opacity(0.5)\r\n\t.name(`mirror-image-1-${target.id}`);\r\n\tseq.effect()\r\n\t.file(targetImg)\r\n\t.fadeIn(1000)\r\n\t.fadeOut(1000)\r\n\t.delay(500)\r\n\t.attachTo(target)\r\n\t.loopProperty(\"sprite\", \"position.x\", {\r\n\t\tvalues: positions[1].x,\r\n\t\tduration: 24,\r\n\t\tpingPong: true,\r\n\t})\r\n\t.loopProperty(\"sprite\", \"position.y\", {\r\n\t\tvalues: positions[1].y,\r\n\t\tduration: 24,\r\n\t\tpingPong: true,\r\n\t})\r\n\t.persist()\r\n\t.scaleToObject(1)\r\n\t.opacity(0.5)\r\n\t.name(`mirror-image-2-${target.id}`);\r\n\tseq.effect()\r\n\t.file(targetImg)\r\n\t.fadeIn(1000)\r\n\t.fadeOut(1000)\r\n\t.delay(500)\r\n\t.attachTo(target)\r\n\t.loopProperty(\"sprite\", \"position.y\", {\r\n\t\tvalues: positions[2].x,\r\n\t\tduration: 20,\r\n\t\tpingPong: false,\r\n\t})\r\n\t.loopProperty(\"sprite\", \"position.x\", {\r\n\t\tvalues: positions[2].y,\r\n\t\tduration: 20,\r\n\t\tpingPong: false,\r\n\t})\r\n\t.persist()\r\n\t.scaleToObject(1)\r\n\t.opacity(0.5)\r\n\t.name(`mirror-image-3-${target.id}`)\r\n\t.play();\r\n}\r\nif (args[0] === \"off\") {\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({\r\n\t\tname: `mirror-image-1-${target.id}`,\r\n\t\tobject: target.id\r\n\t});\r\n\tSequencer.EffectManager.endEffects({\r\n\t\tname: `mirror-image-2-${target.id}`,\r\n\t\tobject: target.id\r\n\t});\r\n\tSequencer.EffectManager.endEffects({\r\n\t\tname: `mirror-image-3-${target.id}`,\r\n\t\tobject: target.id\r\n\t});\r\n\r\n\tconst seq = new Sequence();\r\n\tseq.animation()\r\n\t.on(casterToken)\r\n\t.fadeIn(1000)\r\n\t.play;\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Mirror Image","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"boex3pfz2qc6dr8k","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0x5b0a91 })\r\n.waitUntilFinished(-500)\r\n\r\n.effect()\r\n.file(\"jb2a.markers.light.intro.blue\")\r\n.duration(1500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.7)\r\n\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.border.circle.outpulse.01.normal\")\r\n.attachTo(casterToken)\r\n.fadeIn(500)\r\n.filter(\"Glow\", { color: 0x431c53 })\r\n.fadeOut(500)\r\n.scale(2.5)\r\n.opacity(0.3)\r\n.belowTokens()\r\n.persist()\r\n\r\n.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Pass Without Trace","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"sehum6z8ycc2jez2","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.conjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0x89F423 })\r\n.scaleIn(0, 500, { ease: \"easeOutCubic\", delay: 100 })\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-1500)\r\n.effect()\r\n.file(\"jb2a.breath_weapons.acid.line.green\")\r\n.atLocation(casterToken)\r\n.stretchTo(targetId)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Poison Spray","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"5ygagkc58vehi14l","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xabcdef })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Prestidigitation","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"8kcr56gea4xdsf56","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.butterflies.many.red\")\r\n.atLocation(casterToken)\r\n.fadeIn(500) \r\n.fadeOut(500)\r\n.duration(4000)  \r\n.scale(0.8) \r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xc00000 })\r\n.effect()\r\n.file(\"jb2a.impact.003.dark_red\")\r\n.atLocation(targetId)\r\n.fadeIn(100)\r\n.effect()\r\n.file(\"jb2a.claws.200px.dark_red\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.scaleToObject(1.5)\r\n.duration(2000)\r\n.fadeOut(500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Primal Savagery","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"fy2mapabnsmxeh1c","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.magic_signs.circle.02.abjuration.intro.yellow\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scaleToObject(1.5)\r\n\t\t.waitUntilFinished(-500)\r\n\t\t.belowTokens()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.magic_signs.circle.02.abjuration.loop.yellow\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scaleToObject(1.5)\r\n\t\t.persist()\r\n\t\t.name(`protection-from-good-and-evil-${tokenD.id}`)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(300)\r\n\t\t.extraEndDuration(800)\r\n\t\t.belowTokens()\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `protection-from-good-and-evil-${tokenD.id}`, object: tokenD });\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.magic_signs.circle.02.abjuration.outro.yellow\")\r\n\t\t.scaleToObject(1.5)\r\n\t\t.attachTo(tokenD)\r\n\t\t.belowTokens()\r\n\t\t.play();\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Protection From Good And Evil Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"t2n9qgx517g5tp3d","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xf9e076 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.markers.light.intro.yellow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.scaleToObject(2)\r\n.waitUntilFinished(-500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Protection From Good And Evil Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"gyplatqtssrzv913","command":"await Sequencer.Preloader.preloadForClients(\r\n    [\"jb2a.scimitar.melee.01.purple\",\r\n        \"jb2a.markers.01.purplepink\"\r\n    ], false)\r\n\r\n//This uses MIDI QOL to check for Hits before playing certain parts\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n\r\nlet target = canvas.tokens.get(args[0].targets[0].id);\r\n\r\n//midi checking for hit.\r\nlet targetHit = args[0].hitTargets.length === 1;\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n    .file(\"jb2a.scimitar.melee.01.purple\")\r\n    .atLocation(casterToken)\r\n    .stretchTo(target)\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .file(\"jb2a.impact.004.pinkpurple\")\r\n    .atLocation(target)\r\n    .fadeIn(500)\r\n    .fadeOut(300)\r\n    .playIf(targetHit)\r\n\r\n.effect()\r\n    .file(\"jb2a.markers.01.purplepink\")\r\n    .atLocation(target)\r\n    .duration(1500)\r\n    .fadeIn(500)\r\n    .fadeOut(300)\r\n    .playIf(targetHit)\r\n\r\n.play()","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Psychic Scimitar","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"5obk82jbewkj3412","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.markers.bubble.outro.rainbow\")\r\n.scaleToObject(2)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(args[0].tokenId)\r\n.duration(2800)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xadd8e6 })\r\n.opacity(0.8)\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.outpulse.circle.02.normal\")\r\n.atLocation(args[0].tokenId)\r\n.duration(2800)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xadd8e6 })\r\n.opacity(0.8)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Purify Food And Drink","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"zy6tvv0rzx7w9xul","command":"await Sequencer.Preloader.preloadForClients(\r\n    \"jb2a.markers.02.pink\",\r\n    \"jb2a.impact.purple.1\",\r\n    \"jb2a.impact.011.dark_purple\",\r\n    \"jb2a.energy_strands.complete.dark_red.01\")\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n    .file(\"jb2a.markers.02.pink\")\r\n    .atLocation(casterToken)\r\n    .duration(3000)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.75)\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .file(\"jb2a.impact.purple.1\")\r\n    .atLocation(casterToken)\r\n    .fadeIn(100)\r\n    .fadeOut(200)\r\n    .waitUntilFinished(-500)\r\n    .scale(0.75)\r\n\r\n.effect()\r\n    .file(\"jb2a.impact.011.dark_purple\")\r\n    .atLocation(casterToken)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.75)\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .file(\"jb2a.energy_strands.complete.dark_red.01\")\r\n    .atLocation(casterToken)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scaleToObject(2)\r\n    .persist()\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Rage","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"9jyi6ijqnx7ivn5g","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nlet target = Array.from(game.user.targets)[0];\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(2)\r\n.filter(\"Glow\", { color: 0x26abff })\r\n.effect()\r\n.file(\"jb2a.energy_strands.complete.blue.01\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.duration(2200)\r\n.fadeOut(500)\r\n.scaleToObject(2)\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.ray_of_frost.blue\")\r\n.atLocation(casterToken)\r\n.stretchTo(target)\r\n.playIf(args[0].hitTargets.length === 1) // Comment this line out if not using MIDI\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Ray Of Frost","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"g75yux8xoo784vqr","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.token_border.circle.static.blue.001\")\r\n\t\t.delay(2000)\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.fadeIn(2000)\r\n\t\t.fadeOut(2000)\r\n\t\t.persist()\r\n\t\t.name(`frost-${tokenD.id}`)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `frost-${tokenD.id}`, object: tokenD });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Ray Of Frost Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"3znvav18vqg7ej3j","command":"//This is for a homebrew item which on hit deals damage back to the attacker\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nlet target = canvas.tokens.get(args[0].targets[0].id);\r\n//let targetImg = Array.from(game.user.targets)[0].data.img;\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n.from(target)\r\n.duration(2500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.atLocation(target)\r\n.filter(\"Glow\", { color: 0xFFA500 })\r\n.scaleToObject()\r\n\r\n.effect()\r\n.file(\"jb2a.flames.01.orange\")\r\n.atLocation(target)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.waitUntilFinished()\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Remorhaz Cloak","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"dhpcy1db7ire0fys","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.necromancy\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(4)\r\n.duration(1000)\r\n.fadeOut(500)\r\n.effect()\r\n.file(\"jb2a.cure_wounds.400px.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.duration(1500)\r\n.waitUntilFinished(-1000)\r\n.effect()\r\n.file(\"jb2a.impact.003.yellow\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.healing_generic.loop.bluewhite\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.belowTokens()\r\n.opacity(0.5)\r\n.effect()\r\n.file(\"jb2a.cure_wounds.400px.blue\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.duration(1500)\r\n.effect()\r\n.file(\"jb2a.healing_generic.burst.bluewhite\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.opacity(0.5)       \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Revivify","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"5obp1x60xkgiz0sf","command":"await Sequencer.Preloader.preloadForClients(\r\n    \"jb2a.disintegrate.orangepink\",\r\n    \"jb2a.flames.01.orange\")\r\n\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n\r\nlet target = canvas.tokens.get(args[0].targets[0].id);\r\n//let targetImg = Array.from(game.user.targets)[0].data.img;\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n    .file(\"jb2a.extras.tmfx.runes.circle.inpulse.evocation\")\r\n    .atLocation(casterToken)\r\n    .duration(2000)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.5)\r\n    .filter(\"Glow\", { color: 0xFFA500 })\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .file(\"jb2a.disintegrate.orangepink\")\r\n    .atLocation({ x: target.center.x, y: target.center.y - (canvas.grid.size * 2) })\r\n    .stretchTo(target)\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .from(target)\r\n    .duration(2500)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .atLocation(target)\r\n    .filter(\"Glow\", { color: 0xFFA500 })\r\n    .scaleToObject()\r\n\r\n.effect()\r\n    .file(\"jb2a.flames.01.orange\")\r\n    .atLocation(target)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .waitUntilFinished()\r\n\r\n.play()","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Sacred Flame","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"xn54rynwes5nplis","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xa9e9f5 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Sanctuary","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"z3go3v51o790q4co","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.energy_field.02.below.blue\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`sanctuary-${tokenD.id}`)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(3000)\r\n\t\t.opacity(0.7)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `sanctuary-${tokenD.id}`, object: tokenD });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Sanctuary Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"3n2gk6blb0l5n63s","command":"// This needs to be placed in dae's macro.execute with the @token and @target parameters in order to work correctly.\r\n\r\nconst casterToken = canvas.scene.tokens.get(args[1]);\r\nconst targetActor = canvas.scene.tokens.get(args[2]);\r\n\r\nif (args[0] === \"on\") {\r\n\t// If the dynamic active effect started\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n\t\t.atLocation(casterToken)\r\n\t\t.duration(2000)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.5)\r\n\t\t.waitUntilFinished(-1200)\r\n\t\t.filter(\"Glow\", { color: 0xffa500 })\r\n\t\t.opacity(0.8)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.spear.melee.fire.orange\")\r\n\t\t.atLocation(casterToken)\r\n\t\t.stretchTo(targetActor)\r\n\t\t.waitUntilFinished(-1200)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(1500)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.explosion.02.orange\")\r\n\t\t.atLocation(targetActor)\r\n\t\t.fadeIn(100)\r\n\t\t.fadeOut(100)\r\n\t\t.scale(0.5)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.flaming_sphere.orange\")\r\n\t\t.scaleToObject(2)\r\n\t\t.belowTokens()\r\n\t\t.attachTo(targetActor)\r\n\t\t.duration(2000)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(1000)\r\n\t\t.persist()\r\n\t\t.name(`searing-smite-${targetActor.id}`)\r\n\t\t.play();\r\n\r\n}\r\nif (args[0] === \"off\") {\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `searing-smite-${targetActor.id}`, object: targetActor.id });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Searing Smite","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"5heuvl64oyrgx03f","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.impact.004.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.healing_generic.400px.green\")\r\n.fadeIn(100)\r\n.fadeOut(100)\r\n.scale(0.4, 0.45)\r\n.atLocation(casterToken)\r\n.randomRotation()\r\n.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Second Wind","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"o3t9832aygju8svw","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.impact.003.dark_red\")\r\n.scaleToObject(2)\r\n.atLocation(casterToken)\r\n.effect()\r\n.file(\"jb2a.markers.runes.dark_red.01\")\r\n.scaleToObject(2)\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.duration(2800)\r\n.fadeOut(500)\r\n.opacity(0.8)\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(args[0].tokenId)\r\n.duration(2800)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xc00000 })\r\n.opacity(0.8)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Sending","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"1s3m0lcee6ybxw84","command":"await Sequencer.Preloader.preloadForClients([\r\n    \"jb2a.energy_strands.complete.dark_red.01\",\r\n    \"jb2a.darkness.black\",\r\n    \"jb2a.fire_ring.500px.red\"\r\n], false)\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n\r\nnew Sequence()\r\n    .effect()\r\n    .file(\"jb2a.extras.tmfx.runes.circle.inpulse.necromancy\")\r\n    .atLocation(casterToken)\r\n    .duration(2000)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.5)\r\n    .opacity(0.5)\r\n    .filter(\"Glow\", { color: 0xffffff })\r\n    .scaleIn(0, 500, { ease: \"easeOutCubic\", delay: 100 })\r\n    .waitUntilFinished(-500)\r\n\r\n.effect()\r\n    .fadeIn(500)\r\n    .file(\"jb2a.energy_strands.complete.dark_red.01\")\r\n    .persist()\r\n    .scale(0.4)\r\n    .attachTo(casterToken)\r\n    .name(`ShadowOfMoil_${casterToken.data._id}`)\r\n    .wait(1000)\r\n\r\n.effect()\r\n    .fadeIn(500)\r\n    .file(\"jb2a.darkness.black\")\r\n    .belowTokens()\r\n    .opacity(0.3)\r\n    .size(canvas.grid.size * 5)\r\n    .persist()\r\n    .attachTo(casterToken)\r\n    .name(`ShadowOfMoilDarkness_${casterToken.data._id}`)\r\n\r\n.effect()\r\n    .file(\"jb2a.fire_ring.500px.red\")\r\n    .atLocation(casterToken)\r\n    .fadeIn(100)\r\n    .scaleToObject(1.25)\r\n    .name(`FireRing_ShadowOfMoil_${casterToken.data._id}`)\r\n    .persist()\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shadow Of Moil","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"hx8wr44g6xx36go3","command":"await Sequencer.Preloader.preloadForClients([\r\n    \"jb2a.energy_strands.complete.dark_red.01\",\r\n    \"jb2a.energy_strands.range.standard.dark_red.01\"\r\n], false)\r\n\r\n// remove the damage from the Shadow of Moil Chat Card, Create a new item and add the damage to it then apply the attack macro to that\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\nlet target = Array.from(game.user.targets)[0];\r\n//Delete the comment on this line, formatting breaks the layout\r\n//let damageTotal = game.modules.get(\"midi-qol\").damageRoll ?.total ?? 16;\r\n\r\nnew Sequence()\r\n\r\n.effect()\r\n    .file(\"jb2a.energy_strands.complete.dark_red.01\")\r\n    .atLocation(casterToken)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scaleToObject()\r\n\r\n.effect()\r\n    .file(\"jb2a.energy_strands.range.standard.dark_red.01\")\r\n    .repeats(Math.max(1, Math.floor(damageTotal / 2)), 100, 200)\r\n    .randomizeMirrorY()\r\n    .atLocation(target)\r\n    .stretchTo(casterToken)\r\n    .playIf(args[0].hitTargets.length === 1) // Comment this line out if not using MIDI\r\n    .play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shadow Of Moil Attack","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"1gi1jz2muyei1gt5","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.waitUntilFinished(-1500)\r\n\t.filter(\"Glow\", { color: 0xafeeee })\r\n\t.opacity(0.8)\r\n\t.effect()\r\n\t.file(\"jb2a.markers.light.intro.blue\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.belowTokens()\r\n\t.fadeOut(500)\r\n\t.duration(1800)\r\n\t.fadeIn(500)\r\n\t.scale(0.7)\r\n\t.effect()\r\n\t.file(\"jb2a.shatter.blue\")\r\n\t.atLocation(template.position)\r\n\t.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shatter","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"d04jk4kt098bcfgf","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.01.intro.blue\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.waitUntilFinished(-500)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.01.loop.blue\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`Shield-${tokenD.id}`)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(300)\r\n\t\t.extraEndDuration(800)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `Shield-${tokenD.id}`, object: tokenD });\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.01.outro_explode.blue\")\r\n\t\t.scale(0.5)\r\n\t\t.attachTo(tokenD)\r\n\t\t.play();\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shield Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"t27tmy6zhx8pcffk","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.02.intro.yellow\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.waitUntilFinished(-500)\r\n\t\t.opacity(0.7)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.02.loop.yellow\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`shield-of-faith-${tokenD.id}`)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(300)\r\n\t\t.extraEndDuration(800)\r\n\t\t.opacity(0.7)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `shield-of-faith-${tokenD.id}`, object: tokenD });\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.shield.02.outro_explode.yellow\")\r\n\t\t.scale(0.5)\r\n\t\t.attachTo(tokenD)\r\n\t\t.opacity(0.7)\r\n\t\t.play();\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shield Of Faith Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"ztwqeexbo4csd4nw","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shield Of Faith Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"qc3lko79liky5uh7","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0xffffff })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.waitUntilFinished(-500)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shield Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"3dmos5f48x1jvgbo","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nlet target = Array.from(game.user.targets)[0];\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0x5e899e })\r\n.opacity(0.8)\r\n.waitUntilFinished(-1000)\r\n.effect()\r\n.file(\"jb2a.static_electricity.02.blue\")\r\n.atLocation(casterToken)\r\n.belowTokens()\r\n.fadeOut(500)\r\n.duration(1800)\r\n.fadeIn(500)\r\n.scale(0.7)\r\n.effect()\r\n.file(\"jb2a.impact.011.blue\")\r\n.atLocation(target)\r\n.scaleToObject(2)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shocking Grasp","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"ts8j0m7ytth8urr1","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.static_electricity.02.blue\")\r\n\t\t.delay(2000)\r\n\t\t.attachTo(tokenD)\r\n\t\t.scaleToObject(1.2)\r\n\t\t.fadeIn(500)\r\n\t\t.fadeOut(2000)\r\n\t\t.persist()\r\n\t\t.name(`shocking-grasp-${tokenD.id}`)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `shocking-grasp-${tokenD.id}`, object: tokenD });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Shocking Grasp Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"figi00toj5nkrl5d","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length - 1];\r\n//uncomment the below line to remove the placed template after casting\r\n//await template.delete();\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.markers.light.outro.blue\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(1000)\r\n\t.scaleToObject(3)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(3500)\r\n\t.opacity(0.5)\r\n\r\n\t.effect()\r\n\t.file(\"jb2a.markers.01.blueyellow\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(500)\r\n\t.scaleToObject(2)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(3500)\r\n\t.belowTokens()\r\n\t.duration(3500)\r\n\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.simple.illusion\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.4)\r\n\t.opacity(1)\r\n\t.waitUntilFinished(1000)\r\n\t.filter(\"Glow\", { color: 0xcc99ff })\r\n\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.border.circle.simple.01\")\r\n\t.atLocation(template.position)\r\n\t.scaleIn(0, 1000, { ease: \"easeOutCubic\", delay: 100 })\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.persist()\r\n\t.name(`silence${template.id}`)\r\n\t.opacity(0.8)\r\n\t.scaleToObject(9)\r\n\t.loopProperty(\"sprite\", \"rotation\", { from: 0, to: 360, duration: 80000 })\r\n\r\n\t.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Silence","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"bfzux3l2x7u5wuwj","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.markers.02.dark_bluewhite\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(1000)\r\n\t.scaleToObject(3)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(3500)\r\n\t.opacity(0.5)\r\n\t.effect()\r\n\t.file(\"jb2a.markers.01.dark_bluewhite\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(500)\r\n\t.scaleToObject(2)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(3500)\r\n\t.belowTokens()\r\n\t.animateProperty(\"sprite\", \"rotation\", { from: 0, to: 360, duration: 4000, ease: \"easeInOutCubic\"})\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.simple.conjuration\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.4)\r\n\t.opacity(1)\r\n\t.waitUntilFinished(1000)\r\n\t.filter(\"Glow\", { color: 0x00008b})    \r\n\t.effect()\r\n\t.file(\"jb2a.sleet_storm.blue\")\r\n\t.atLocation(template.position)\r\n\t.scaleToObject(15)\r\n\t.fadeIn(1000)\r\n\t.persist()\r\n\t.fadeOut(4000)\r\n\t.name(`sleet-storm${template.id}`)\r\n\t.opacity(0.7)\r\n\t.belowTokens()\r\n\t.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Sleet Storm","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"noqqfy6bwqqkj3fp","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet targetID = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\r\n\tnew Sequence() \r\n\t\t.effect()\r\n\t\t.file(\"jb2a.impact.004.dark_purple\")\r\n\t\t.atLocation(targetID)\r\n\t\t.fadeIn(500)\r\n\t\t.delay(2000)\r\n\t\t.effect()\r\n\t\t.delay(2000)\r\n\t\t.file(\"jb2a.energy_strands.overlay.purple.01\")\r\n\t\t.fadeIn(100)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.4, 0.45)\r\n\t\t.attachTo(targetID)\r\n\t\t.randomRotation()\r\n\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t\t.persist()\r\n\t\t.name(`slow-${targetID.id}`)\r\n\t\t.play();\r\n\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `slow-${targetID.id}`, object: targetID });\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Slow Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"lnyglhre44dwq2hs","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0x6a0dad }) \r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Slow Start","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"fhcmiy6m36eiw8q7","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nawait warpgate.spawn(\"Snare\", {}, {\r\n    pre: async (location) => {\r\n        const seq = new Sequence()\r\n    .effect()\r\n        .file(\"jb2a.extras.tmfx.runes.circle.inpulse.abjuration\")\r\n        .atLocation(casterToken)\r\n        .duration(2000)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .opacity(0.3)\r\n        .filter(\"Glow\", { color: 0xffffff })\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n        .effect()\r\n    .file(\"jb2a.moonbeam.01.intro.blue\")\r\n        .atLocation(casterToken)\r\n        .fadeIn(100)\r\n        .fadeOut(200)\r\n        .duration(1200)\r\n        .waitUntilFinished(-500)\r\n    .effect()\r\n        .file(\"jb2a.toll_the_dead.purple.shockwave\")\r\n        .atLocation(location)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n\r\n    seq.play();\r\n\r\n        // Sleep for 500ms\r\n        await (new Promise(resolve => setTimeout(resolve, 1200)));\r\n    }\r\n}, {\r\n    collision: false\r\n});\r\n\r\n\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Snare","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"nkx8g9xex9mvyacu","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nlet myStringArray = Array.from(game.user.targets)[0];\r\nlet arrayLength = game.user.targets.size;\r\nfor (let i = 0; i < arrayLength; i++) {\r\n\tlet targetId = Array.from(game.user.targets)[i];\r\n\tnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.side_impact.part.shockwave.blue\")\r\n\t.atLocation(casterToken)\r\n\t.reachTowards(targetId)\r\n\t.randomOffset()\r\n\t.repeats(5, 90, 120, 150)\r\n\t.play();\r\n}\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Sonic Scream","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"mk711qozzcnnbaoy","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.necromancy\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(4)\r\n.duration(1000)\r\n.fadeOut(500)\r\n.filter(\"Glow\", { color: 0xFFFFA7 })\r\n.effect()\r\n.file(\"jb2a.cure_wounds.200px.blue\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleToObject(3)\r\n.duration(1500)\r\n.waitUntilFinished(-800)\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.outpulse.circle.01.slow\")\r\n.atLocation(targetId)\r\n.filter(\"Glow\", { color: 0xFFFFA7 })\r\n.fadeIn(100)\r\n.fadeOut(500)\r\n.scaleToObject(5)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.impact.004.yellow\")\r\n.atLocation(targetId)\r\n\r\n.play();\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Spare The Dying","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"4zscfm5lrip1vuyu","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.divination\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0x014421 })\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.green\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.belowTokens()\r\n.scaleToObject(1.5)\r\n.animateProperty(\"spriteContainer\", \"rotation\", { from: 0, to: 360, duration: 5000, delay: 0 })\r\n.effect()\r\n.file(\"jb2a.shatter.green\")\r\n.delay(200)\r\n.fadeIn(100)\r\n.fadeOut(500)\r\n.duration(1200)\r\n.scale(0.4)\r\n.opacity(0.4)\r\n.atLocation(casterToken)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Speak With Animals","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"yzoqu561ddt1gr2o","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.markers.02.greenorange\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(1000)\r\n\t.scaleToObject(3)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.opacity(0.5)\r\n\t.effect()\r\n\t.file(\"jb2a.markers.drop.dark_green.01\")\r\n\t.fadeIn(300)\r\n\t.fadeOut(1000)\r\n\t.scaleToObject(3)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(2900)\r\n\t.opacity(0.5)\r\n\t.file(\"jb2a.markers.01.greenorange\")\r\n\t.delay(200)\r\n\t.fadeIn(300)\r\n\t.fadeOut(500)\r\n\t.scaleToObject(2)\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.belowTokens()\r\n\t.animateProperty(\"sprite\", \"rotation\", { from: 0, to: 360, duration: 4000, ease: \"easeInOutCubic\"})\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.simple.transmutation\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.4)\r\n\t.opacity(1)\r\n\t.waitUntilFinished(-300)\r\n\t.filter(\"Glow\", { color: 0x00ff00})    \r\n\t.effect()\r\n\t.file(\"jb2a.template_circle.symbol.normal.drop.dark_green\")\r\n\t.atLocation(template.position)\r\n\t.fadeIn(1500)\r\n\t.persist()\r\n\t.fadeOut(1500)\r\n\t.name(`spike-growth-${template.id}`)\r\n\t.belowTokens()\r\n\t.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Spike Growth","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"h1dfadq0n32xo0gd","command":"//Preloading the Files to make sure they play a bit nicer when animatiing.\r\nawait Sequencer.Preloader.preloadForClients(\r\n    [\"jb2a.extras.tmfx.runes.circle.inpulse.transmutation\",\r\n        \"jb2a.arms_of_hadar.dark_green\"\r\n    ], false)\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n    ui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n    return;\r\n}\r\n//get the template id from the canvas and its positions.\r\nlet fireTemplate = canvas.templates.get(args[0].templateId);\r\nlet templatePosition = fireTemplate.position;\r\n//get an array of the targets within the tempalte area.\r\nconst targetLocations = Array.from(game.user.targets);\r\n\r\nawait fireTemplate.document.delete();\r\n\r\nlet sequence = new Sequence()\r\n\r\nsequence.effect()\r\n    .file(\"jb2a.extras.tmfx.runes.circle.inpulse.transmutation\")\r\n    .atLocation(casterToken)\r\n    .duration(2000)\r\n    .fadeIn(500)\r\n    .fadeOut(500)\r\n    .scale(0.5)\r\n    .filter(\"Glow\", { color: 0x6a0dad })\r\n    .waitUntilFinished(-500)\r\n\r\n\r\nsequence.effect()\r\n    .file(\"jb2a.arms_of_hadar.dark_green\")\r\n    .atLocation(templatePosition)\r\n    .scale(1.85)\r\n    .fadeIn(300)\r\n    .duration(10000)\r\n    .fadeOut(500)\r\n    .belowTokens()\r\n    .opacity(0.5)\r\n\r\nsequence.play()","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Spike Growth Alt","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"6wk9e8b70rywpdf4","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.conjuration\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xc00000 })\r\n.waitUntilFinished(-500)\r\n.effect()\r\n.file(\"jb2a.markers.02.red\")\r\n.duration(1500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.7)\r\n.effect()\r\n.file(\"jb2a.spirit_guardians.dark_red.ring\")\r\n.attachTo(casterToken)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n.persist()\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Spirit Guardians","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"vsp55g0j8q8ietey","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet targetID = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\r\n\tnew Sequence() \r\n\t\t.effect()\r\n\t\t.delay(2000)\r\n\t\t.file(\"jb2a.fireflies.many.02.red\")\r\n\t\t.fadeIn(100)\r\n\t\t.fadeOut(500)\r\n\t\t.scale(0.4, 0.45)\r\n\t\t.attachTo(targetID)\r\n\t\t.randomRotation()\r\n\t\t.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n\t\t.persist()\r\n\t\t.name(`spirit-guardians-${targetID.id}`)\r\n\t\t.play();\r\n\r\n}\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `spirit-guardians-${targetID.id}`, object: targetID });\r\n}    ","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Spirit Guardians Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"rx0fu419ggorz13m","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xffffbf })\r\n.effect()\r\n.file(\"jb2a.impact.004.yellow\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.pinkyellow.01\")\r\n.delay(200)\r\n.fadeIn(300)\r\n.fadeOut(500)\r\n.duration(3000)\r\n.scale(0.4)\r\n.opacity(0.4)\r\n.atLocation(targetId)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.enchantment\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(2)\r\n.duration(2000)\r\n.fadeOut(500)\r\n.filter(\"Glow\", { color: 0xffffbf })\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Suggestion","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"fmie0pozjqyjfruj","command":"import Sequence from \"../../../dist/module/sequencer.js\";\r\n\r\nconst casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nlet target = Array.from(game.user.targets)[0];\r\n//let targetImg = Array.from(game.user.targets)[0].data.img;\r\n\r\nnew Sequence()\r\n    .effect()\r\n        .file(\"jb2a.sword.melee.01.white\")\r\n        .atLocation(casterToken)\r\n        .stretchTo(target)\r\n        .filter(\"Glow\", { color: 0xffa700 })\r\n        .waitUntilFinished(-500)\r\n        .size(canvas.grid.size * 2)\r\n\r\n.effect()\r\n.from(target)\r\n.duration(1500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.atLocation(target)\r\n.filter(\"Glow\", { color: 0xffa700 })\r\n.scaleToObject()\r\n.waitUntilFinished(-500)\r\n\r\n.effect()\r\n.file(\"jb2a.flames.01.orange\")\r\n.filter(\"Glow\", { color: 0xffa700 })\r\n.atLocation(target)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.waitUntilFinished(-1500)\r\n.duration(1000)\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Sun Blade","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"qyzxog1o8hj6h84y","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(1700)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xffa500 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n.effect()\r\n.file(\"jb2a.moonbeam.01.intro.rainbow\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.duration(1200)\r\n.effect()\r\n.file(\"jb2a.impact.yellow.5\")\r\n.atLocation(casterToken)\r\n.fadeIn(100)\r\n.fadeOut(200)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Thaumaturgy","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"nuv72nm9iiqdcy9l","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\n\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nlet target = Array.from(game.user.targets)[0];\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.transmutation\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.3)\r\n.filter(\"Glow\", { color: 0x89F423 })\r\n.scaleIn(0, 500, { ease: \"easeOutCubic\", delay: 100 })\r\n.effect()\r\n.file(\"jb2a.template_circle.symbol.out_flow.drop.dark_green\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)\r\n.duration(2000)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.opacity(0.5)\r\n.effect()\r\n.file(\"jb2a.scorching_ray.green.02\")\r\n.atLocation(casterToken)\r\n.duration(800)\r\n.fadeOut(100)\r\n.stretchTo(target)\r\n.playIf(args[0].hitTargets.length === 1) // Comment this line out if not using MIDI\r\n.waitUntilFinished(-500)\r\n.opacity(0.7)\r\n.effect()\r\n.file(\"jb2a.impact.008.green\")\r\n.atLocation(target)\r\n.scaleToObject(1.5)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Thorn Whip","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"u8c20mvomsp3mvf3","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(2000)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.filter(\"Glow\", { color: 0x5e899e })\r\n\t.opacity(0.8)\r\n\t.waitUntilFinished(-1000)\r\n\t.effect()\r\n\t.file(\"jb2a.static_electricity.02.blue\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.belowTokens()\r\n\t.fadeOut(500)\r\n\t.duration(1800)\r\n\t.fadeIn(500)\r\n\t.scale(0.7)\r\n\t.effect()\r\n\t.file(\"jb2a.call_lightning.low_res.blueorange\")\r\n\t.atLocation(template.position)\r\n\t.duration(1500)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.opacity(0.5)\r\n\t.scale(0.3)\r\n\t.offset({ x: -150, y: -150 })\r\n\t.effect()\r\n\t.file(\"jb2a.thunderwave.center.blue\")\r\n\t.atLocation(template.position)\r\n\t.offset({ x: -150, y: -150 })\r\n\t.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);\r\n\r\n\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Thunderwave","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"hggn5dn1k95ug30v","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.impact.004.dark_purple\")\r\n.atLocation(casterToken)\r\n.fadeIn(500)    \r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.necromancy\")\r\n.atLocation(casterToken)\r\n.duration(3000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0x3c1361 })\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n.waitUntilFinished(-2000)\r\n.effect()\r\n.file(\"jb2a.toll_the_dead.purple.complete\")\r\n.atLocation(targetId)\r\n.scaleIn(0, 500, {ease: \"easeInCubic\"})\r\n.fadeIn(500)\r\n.fadeOut(300)\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Toll The Dead","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"b41pyxfpxon4f964","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.moonbeam.01.intro.green\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.belowTokens()\r\n\t\t.waitUntilFinished(-500)\r\n\t\t.opacity(0.5)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.moonbeam.01.loop.green\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`transformation-${tokenD.id}`)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(300)\r\n\t\t.belowTokens()\r\n\t\t.extraEndDuration(800)\r\n\t\t.opacity(0.5)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.particles.outward.greenyellow.01.02\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.persist()\r\n\t\t.name(`transformation-particle-${tokenD.id}`)\r\n\t\t.fadeIn(300)\r\n\t\t.fadeOut(300)\r\n\t\t.belowTokens()\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `transformation-${tokenD.id}`, object: tokenD });\r\n\tSequencer.EffectManager.endEffects({ name: `transformation-particle-${tokenD.id}`, object: tokenD });\r\n\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.moonbeam.01.outro.green\")\r\n\t\t.scale(0.5)\r\n\t\t.attachTo(tokenD)\r\n\t\t.belowTokens()\r\n\t\t.opacity(0.5)\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.liquid.splash.red\")\r\n\t\t.attachTo(tokenD)\r\n\t\t.belowTokens()\r\n\t\t.scale(0.5)\r\n\t\t.play();\r\n}\r\n\r\n","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Twisted Transformation Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"f13yvvvz356fvqf4","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nawait warpgate.spawn(\"Unseen Servant\", {}, {\r\n    pre: async (location) => {\r\n        const seq = new Sequence()\r\n        .effect()\r\n        .file(\"jb2a.extras.tmfx.runes.circle.inpulse.conjuration\")\r\n        .atLocation(casterToken)\r\n        .duration(2000)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .opacity(0.3)\r\n        .filter(\"Glow\", { color: 0xa1c4fd })\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n    .effect()\r\n        .file(\"jb2a.moonbeam.01.intro.blue\")\r\n        .atLocation(casterToken)\r\n        .fadeIn(100)\r\n        .fadeOut(200)\r\n        .duration(1200)\r\n        .waitUntilFinished(-500)\r\n    .effect()\r\n        .file(\"jb2a.toll_the_dead.blue.shockwave\")\r\n        .atLocation(location)\r\n        .fadeIn(500)\r\n        .fadeOut(500)\r\n        .scale(0.5)\r\n        .scaleIn(0, 500, {ease: \"easeOutCubic\", delay: 100})\r\n        .filter(\"Glow\", { color: 0xa1c4fd })\r\n\r\n    seq.play();\r\n\r\n        // Sleep for 500ms\r\n        await (new Promise(resolve => setTimeout(resolve, 1200)));\r\n    }\r\n}, {\r\n    collision: false\r\n});","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Unseen Servant","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"uigmhnusgi2b4j75","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\nconst targetId = Array.from(game.user.targets)[0];\r\nif (!targetId) {\r\n\tui.notification.warn(\"This spell requires at least one valid target.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.markers.music.dark_red\")\r\n.atLocation(casterToken)\r\n.duration(3500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.belowTokens()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.outpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(4000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.waitUntilFinished(-2000)\r\n.filter(\"Glow\", { color: 0xcd5c5c })\r\n.effect()\r\n.file(\"jb2a.impact.004.dark_red\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.effect()\r\n.file(\"jb2a.energy_strands.overlay.dark_red.01\")\r\n.delay(200)\r\n.fadeIn(300)\r\n.fadeOut(500)\r\n.duration(3000)\r\n.scale(0.4)\r\n.opacity(0.4)\r\n.atLocation(targetId)\r\n.scaleIn(0, 500, {ease: \"easeOutCubic\"})\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.simple.enchantment\")\r\n.atLocation(targetId)\r\n.fadeIn(500)\r\n.scaleIn(0, 300, {ease: \"easeOutCubic\"})\r\n.scaleToObject(2)\r\n.duration(2000)\r\n.fadeOut(500)\r\n.filter(\"Glow\", { color: 0xcd5c5c })\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Vicious Mockery","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"bw6swabfavqfuspd","command":"//NOTE: This needs to go into the effect's macro.execute property, rather than midi's 'On Item Use' field.\r\n\r\nlet tokenD = canvas.tokens.get(args[1].tokenId);\r\n\r\nif(args[0] === \"on\"){\r\n\t// If the dynamic active effect started\r\n\tnew Sequence()\r\n\t\t.effect()\r\n\t\t.file(\"jb2a.token_border.circle.spinning.purple.009\")\r\n\t\t.delay(2000)\r\n\t\t.attachTo(tokenD)\r\n\t\t.scale(0.5)\r\n\t\t.fadeIn(2000)\r\n\t\t.fadeOut(2000)\r\n\t\t.persist()\r\n\t\t.name(`mockery-${tokenD.id}`)\r\n\t\t.play();\r\n}\r\n\r\nif(args[0] === \"off\"){\r\n\t// If the dynamic active effect ended\r\n\tSequencer.EffectManager.endEffects({ name: `mockery-${tokenD.id}`, object: tokenD });\r\n}","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Vicious Mockery Effect","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"4e5ffaqkmgfo462l","command":"const template = canvas.templates.placeables[canvas.templates.placeables.length-1];\r\n\r\nnew Sequence()\r\n\t.effect()\r\n\t.file(\"jb2a.extras.tmfx.runes.circle.outpulse.evocation\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.duration(1500)\r\n\t.fadeIn(500)\r\n\t.fadeOut(500)\r\n\t.scale(0.5)\r\n\t.waitUntilFinished(-1200)\r\n\t.filter(\"Glow\", { color: 0xffffbf })\r\n\t.opacity(0.8)\r\n\t.effect()\r\n\t.file(\"jb2a.markers.light.intro.yellow\")\r\n\t.atLocation(args[0].tokenId)\r\n\t.belowTokens()\r\n\t.fadeOut(500)\r\n\t.duration(1200)\r\n\t.fadeIn(500)\r\n\t.scale(0.7)\r\n\t.effect()\r\n\t.file(\"jb2a.explosion.03.blueyellow\")\r\n\t.atLocation(template.position)\r\n\t.play();\r\n\r\ncanvas.scene.deleteEmbeddedDocuments(\"MeasuredTemplate\", [template.data._id]);","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Word Of Radiance","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
{"_id":"tw88l0zhtgl4pymh","command":"const casterToken = canvas.tokens.get(args[0].tokenId);\r\nif (!casterToken) {\r\n\tui.notifications.warn(\"Please select a valid token to use this ability.\");\r\n\treturn;\r\n}\r\n\r\nnew Sequence()\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.runes.circle.inpulse.enchantment\")\r\n.atLocation(casterToken)\r\n.duration(2000)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.5)\r\n.filter(\"Glow\", { color: 0xa1c4fd })\r\n.waitUntilFinished(-500)\r\n\r\n.effect()\r\n.file(\"jb2a.markers.light.intro.blue\")\r\n.duration(1500)\r\n.fadeIn(500)\r\n.fadeOut(500)\r\n.scale(0.7)\r\n\r\n.effect()\r\n.file(\"jb2a.extras.tmfx.border.circle.outpulse.01.normal\")\r\n.attachTo(casterToken)\r\n.fadeIn(500)\r\n.filter(\"Glow\", { color: 0xa1c4fd })\r\n.fadeOut(500)\r\n.scale(1.25)\r\n.opacity(0.3)\r\n.belowTokens()\r\n.persist()\r\n\r\n.play();","flags":{"advanced-macros":{"runAsGM":false}},"folder":null,"img":"icons/svg/dice-target.svg","name":"Animate Zone Of Truth","permission":{"default":0},"scope":"global","sort":0,"type":"script"}
